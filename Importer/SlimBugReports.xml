<root>
     <bug>
          <bug_id>925710</bug_id>
          <creation_ts>2013-10-11 05:24:10 -0700</creation_ts>
          <short_desc>Update conditionalForwardWithUrlbarWidth to reflect reality</short_desc>
          <delta_ts>2013-12-30 02:23:45 -0800</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Client Software</classification>
          <product>Firefox</product>
          <component>Theme</component>
          <version>Trunk</version>
          <rep_platform>All</rep_platform>
          <op_sys>Linux</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard>[Australis:M9][Australis:P3]</status_whiteboard>
          <keywords></keywords>
          <priority>--</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>Firefox 28</target_milestone>
          <blocked>874674</blocked>
          <blocked>923548</blocked>
          <blocked>953371</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Dão Gottwald [:dao]">dao</reporter>
          <assigned_to name="Dão Gottwald [:dao]">dao</assigned_to>
          <cc>gijskruitbosch+bugs</cc>
          <cc>mdeboer</cc>
          <cf_blocking_loop>---</cf_blocking_loop>
          <cf_tracking_e10s>---</cf_tracking_e10s>
          <cf_tracking_firefox5>---</cf_tracking_firefox5>
          <cf_status_firefox5>---</cf_status_firefox5>
          <cf_tracking_firefox6>---</cf_tracking_firefox6>
          <cf_status_firefox6>---</cf_status_firefox6>
          <cf_tracking_firefox7>---</cf_tracking_firefox7>
          <cf_status_firefox7>---</cf_status_firefox7>
          <cf_tracking_firefox8>---</cf_tracking_firefox8>
          <cf_status_firefox8>---</cf_status_firefox8>
          <cf_tracking_firefox9>---</cf_tracking_firefox9>
          <cf_status_firefox9>---</cf_status_firefox9>
          <cf_tracking_firefox10>---</cf_tracking_firefox10>
          <cf_status_firefox10>---</cf_status_firefox10>
          <cf_tracking_firefox11>---</cf_tracking_firefox11>
          <cf_status_firefox11>---</cf_status_firefox11>
          <cf_tracking_firefox12>---</cf_tracking_firefox12>
          <cf_status_firefox12>---</cf_status_firefox12>
          <cf_tracking_firefox13>---</cf_tracking_firefox13>
          <cf_status_firefox13>---</cf_status_firefox13>
          <cf_tracking_firefox14>---</cf_tracking_firefox14>
          <cf_status_firefox14>---</cf_status_firefox14>
          <cf_tracking_firefox15>---</cf_tracking_firefox15>
          <cf_status_firefox15>---</cf_status_firefox15>
          <cf_tracking_firefox16>---</cf_tracking_firefox16>
          <cf_status_firefox16>---</cf_status_firefox16>
          <cf_tracking_firefox17>---</cf_tracking_firefox17>
          <cf_status_firefox17>---</cf_status_firefox17>
          <cf_tracking_firefox18>---</cf_tracking_firefox18>
          <cf_status_firefox18>---</cf_status_firefox18>
          <cf_tracking_firefox19>---</cf_tracking_firefox19>
          <cf_status_firefox19>---</cf_status_firefox19>
          <cf_tracking_firefox20>---</cf_tracking_firefox20>
          <cf_status_firefox20>---</cf_status_firefox20>
          <cf_tracking_firefox21>---</cf_tracking_firefox21>
          <cf_status_firefox21>---</cf_status_firefox21>
          <cf_tracking_firefox22>---</cf_tracking_firefox22>
          <cf_status_firefox22>---</cf_status_firefox22>
          <cf_tracking_firefox23>---</cf_tracking_firefox23>
          <cf_status_firefox23>---</cf_status_firefox23>
          <cf_tracking_firefox24>---</cf_tracking_firefox24>
          <cf_status_firefox24>---</cf_status_firefox24>
          <cf_tracking_firefox25>---</cf_tracking_firefox25>
          <cf_status_firefox25>---</cf_status_firefox25>
          <cf_tracking_firefox26>---</cf_tracking_firefox26>
          <cf_status_firefox26>---</cf_status_firefox26>
          <cf_tracking_firefox27>---</cf_tracking_firefox27>
          <cf_status_firefox27>---</cf_status_firefox27>
          <cf_tracking_firefox28>---</cf_tracking_firefox28>
          <cf_status_firefox28>---</cf_status_firefox28>
          <cf_tracking_firefox29>---</cf_tracking_firefox29>
          <cf_status_firefox29>---</cf_status_firefox29>
          <cf_tracking_firefox30>---</cf_tracking_firefox30>
          <cf_status_firefox30>---</cf_status_firefox30>
          <cf_tracking_firefox31>---</cf_tracking_firefox31>
          <cf_status_firefox31>---</cf_status_firefox31>
          <cf_tracking_firefox32>---</cf_tracking_firefox32>
          <cf_status_firefox32>---</cf_status_firefox32>
          <cf_tracking_firefox33>---</cf_tracking_firefox33>
          <cf_status_firefox33>---</cf_status_firefox33>
          <cf_tracking_firefox34>---</cf_tracking_firefox34>
          <cf_status_firefox34>---</cf_status_firefox34>
          <cf_tracking_firefox35>---</cf_tracking_firefox35>
          <cf_status_firefox35>---</cf_status_firefox35>
          <cf_tracking_esr10>---</cf_tracking_esr10>
          <cf_status_esr10>---</cf_status_esr10>
          <cf_tracking_firefox_esr17>---</cf_tracking_firefox_esr17>
          <cf_status_firefox_esr17>---</cf_status_firefox_esr17>
          <cf_tracking_firefox_esr24>---</cf_tracking_firefox_esr24>
          <cf_status_firefox_esr24>---</cf_status_firefox_esr24>
          <cf_tracking_firefox_esr31>---</cf_tracking_firefox_esr31>
          <cf_status_firefox_esr31>---</cf_status_firefox_esr31>
          <cf_tracking_b2g18>---</cf_tracking_b2g18>
          <cf_status_b2g18>---</cf_status_b2g18>
          <cf_status_b2g30>---</cf_status_b2g30>
          <cf_status_b2g18_1_0_0>---</cf_status_b2g18_1_0_0>
          <cf_status_b2g18_1_0_1>---</cf_status_b2g18_1_0_1>
          <cf_status_b2g_1_1_hd>---</cf_status_b2g_1_1_hd>
          <cf_tracking_b2g_v1_2>---</cf_tracking_b2g_v1_2>
          <cf_status_b2g_1_2>---</cf_status_b2g_1_2>
          <cf_tracking_b2g_v1_3>---</cf_tracking_b2g_v1_3>
          <cf_status_b2g_1_3>---</cf_status_b2g_1_3>
          <cf_status_b2g_1_3t>---</cf_status_b2g_1_3t>
          <cf_blocking_20>---</cf_blocking_20>
          <cf_status_20>---</cf_status_20>
          <cf_status_b2g_1_4>---</cf_status_b2g_1_4>
          <cf_status_b2g_2_0>---</cf_status_b2g_2_0>
          <cf_status_b2g_2_0m>---</cf_status_b2g_2_0m>
          <cf_status_b2g_2_1>---</cf_status_b2g_2_1>
          <cf_status_b2g_2_2>---</cf_status_b2g_2_2>
          <cf_blocking_192>---</cf_blocking_192>
          <cf_blocking_fx>---</cf_blocking_fx>
          <cf_tracking_firefox_relnote>---</cf_tracking_firefox_relnote>
          <cf_status_192>---</cf_status_192>
          <cf_tracking_relnote_b2g>---</cf_tracking_relnote_b2g>
          <cf_blocking_191>---</cf_blocking_191>
          <cf_status_191>---</cf_status_191>
          <cf_blocking_fennec10>---</cf_blocking_fennec10>
          <cf_blocking_fennec>---</cf_blocking_fennec>
          <cf_blocking_thunderbird33>---</cf_blocking_thunderbird33>
          <cf_status_thunderbird33>---</cf_status_thunderbird33>
          <cf_blocking_thunderbird32>---</cf_blocking_thunderbird32>
          <cf_status_thunderbird32>---</cf_status_thunderbird32>
          <cf_blocking_thunderbird31>---</cf_blocking_thunderbird31>
          <cf_status_thunderbird31>---</cf_status_thunderbird31>
          <cf_blocking_thunderbird30>---</cf_blocking_thunderbird30>
          <cf_status_thunderbird30>---</cf_status_thunderbird30>
          <cf_tracking_thunderbird6>---</cf_tracking_thunderbird6>
          <cf_status_thunderbird6>---</cf_status_thunderbird6>
          <cf_tracking_thunderbird7>---</cf_tracking_thunderbird7>
          <cf_status_thunderbird7>---</cf_status_thunderbird7>
          <cf_tracking_thunderbird8>---</cf_tracking_thunderbird8>
          <cf_status_thunderbird8>---</cf_status_thunderbird8>
          <cf_tracking_thunderbird9>---</cf_tracking_thunderbird9>
          <cf_status_thunderbird9>---</cf_status_thunderbird9>
          <cf_tracking_thunderbird10>---</cf_tracking_thunderbird10>
          <cf_status_thunderbird10>---</cf_status_thunderbird10>
          <cf_tracking_thunderbird11>---</cf_tracking_thunderbird11>
          <cf_status_thunderbird11>---</cf_status_thunderbird11>
          <cf_tracking_thunderbird12>---</cf_tracking_thunderbird12>
          <cf_status_thunderbird12>---</cf_status_thunderbird12>
          <cf_tracking_thunderbird13>---</cf_tracking_thunderbird13>
          <cf_status_thunderbird13>---</cf_status_thunderbird13>
          <cf_tracking_thunderbird14>---</cf_tracking_thunderbird14>
          <cf_status_thunderbird14>---</cf_status_thunderbird14>
          <cf_tracking_thunderbird15>---</cf_tracking_thunderbird15>
          <cf_status_thunderbird15>---</cf_status_thunderbird15>
          <cf_tracking_thunderbird16>---</cf_tracking_thunderbird16>
          <cf_status_thunderbird16>---</cf_status_thunderbird16>
          <cf_tracking_thunderbird17>---</cf_tracking_thunderbird17>
          <cf_status_thunderbird17>---</cf_status_thunderbird17>
          <cf_tracking_thunderbird18>---</cf_tracking_thunderbird18>
          <cf_status_thunderbird18>---</cf_status_thunderbird18>
          <cf_tracking_thunderbird19>---</cf_tracking_thunderbird19>
          <cf_status_thunderbird19>---</cf_status_thunderbird19>
          <cf_tracking_thunderbird20>---</cf_tracking_thunderbird20>
          <cf_status_thunderbird20>---</cf_status_thunderbird20>
          <cf_tracking_thunderbird21>---</cf_tracking_thunderbird21>
          <cf_status_thunderbird21>---</cf_status_thunderbird21>
          <cf_tracking_thunderbird22>---</cf_tracking_thunderbird22>
          <cf_status_thunderbird22>---</cf_status_thunderbird22>
          <cf_tracking_thunderbird23>---</cf_tracking_thunderbird23>
          <cf_status_thunderbird23>---</cf_status_thunderbird23>
          <cf_tracking_thunderbird24>---</cf_tracking_thunderbird24>
          <cf_status_thunderbird24>---</cf_status_thunderbird24>
          <cf_tracking_thunderbird25>---</cf_tracking_thunderbird25>
          <cf_status_thunderbird25>---</cf_status_thunderbird25>
          <cf_tracking_thunderbird26>---</cf_tracking_thunderbird26>
          <cf_status_thunderbird26>---</cf_status_thunderbird26>
          <cf_tracking_thunderbird27>---</cf_tracking_thunderbird27>
          <cf_status_thunderbird27>---</cf_status_thunderbird27>
          <cf_tracking_thunderbird28>---</cf_tracking_thunderbird28>
          <cf_status_thunderbird28>---</cf_status_thunderbird28>
          <cf_tracking_thunderbird29>---</cf_tracking_thunderbird29>
          <cf_status_thunderbird29>---</cf_status_thunderbird29>
          <cf_tracking_thunderbird_30>---</cf_tracking_thunderbird_30>
          <cf_status_thunderbird_30>---</cf_status_thunderbird_30>
          <cf_tracking_thunderbird_31>---</cf_tracking_thunderbird_31>
          <cf_status_thunderbird_31>---</cf_status_thunderbird_31>
          <cf_tracking_thunderbird_32>---</cf_tracking_thunderbird_32>
          <cf_status_thunderbird_32>---</cf_status_thunderbird_32>
          <cf_tracking_thunderbird_esr10>---</cf_tracking_thunderbird_esr10>
          <cf_status_thunderbird_esr10>---</cf_status_thunderbird_esr10>
          <cf_tracking_thunderbird_esr17>---</cf_tracking_thunderbird_esr17>
          <cf_status_thunderbird_esr17>---</cf_status_thunderbird_esr17>
          <cf_tracking_thunderbird_esr24>---</cf_tracking_thunderbird_esr24>
          <cf_status_thunderbird_esr24>---</cf_status_thunderbird_esr24>
          <cf_tracking_thunderbird_33>---</cf_tracking_thunderbird_33>
          <cf_status_thunderbird_33>---</cf_status_thunderbird_33>
          <cf_tracking_thunderbird_34>---</cf_tracking_thunderbird_34>
          <cf_status_thunderbird_34>---</cf_status_thunderbird_34>
          <cf_tracking_thunderbird_35>---</cf_tracking_thunderbird_35>
          <cf_status_thunderbird_35>---</cf_status_thunderbird_35>
          <cf_tracking_thunderbird_esr31>---</cf_tracking_thunderbird_esr31>
          <cf_status_thunderbird_esr31>---</cf_status_thunderbird_esr31>
          <cf_blocking_seamonkey21>---</cf_blocking_seamonkey21>
          <cf_status_seamonkey21>---</cf_status_seamonkey21>
          <cf_tracking_seamonkey22>---</cf_tracking_seamonkey22>
          <cf_status_seamonkey22>---</cf_status_seamonkey22>
          <cf_tracking_seamonkey23>---</cf_tracking_seamonkey23>
          <cf_status_seamonkey23>---</cf_status_seamonkey23>
          <cf_tracking_seamonkey24>---</cf_tracking_seamonkey24>
          <cf_status_seamonkey24>---</cf_status_seamonkey24>
          <cf_tracking_seamonkey25>---</cf_tracking_seamonkey25>
          <cf_status_seamonkey25>---</cf_status_seamonkey25>
          <cf_tracking_seamonkey26>---</cf_tracking_seamonkey26>
          <cf_status_seamonkey26>---</cf_status_seamonkey26>
          <cf_tracking_seamonkey27>---</cf_tracking_seamonkey27>
          <cf_status_seamonkey27>---</cf_status_seamonkey27>
          <cf_tracking_seamonkey28>---</cf_tracking_seamonkey28>
          <cf_status_seamonkey28>---</cf_status_seamonkey28>
          <cf_tracking_seamonkey29>---</cf_tracking_seamonkey29>
          <cf_status_seamonkey29>---</cf_status_seamonkey29>
          <cf_tracking_seamonkey210>---</cf_tracking_seamonkey210>
          <cf_status_seamonkey210>---</cf_status_seamonkey210>
          <cf_tracking_seamonkey211>---</cf_tracking_seamonkey211>
          <cf_status_seamonkey211>---</cf_status_seamonkey211>
          <cf_tracking_seamonkey212>---</cf_tracking_seamonkey212>
          <cf_status_seamonkey212>---</cf_status_seamonkey212>
          <cf_tracking_seamonkey213>---</cf_tracking_seamonkey213>
          <cf_status_seamonkey213>---</cf_status_seamonkey213>
          <cf_tracking_seamonkey214>---</cf_tracking_seamonkey214>
          <cf_status_seamonkey214>---</cf_status_seamonkey214>
          <cf_tracking_seamonkey215>---</cf_tracking_seamonkey215>
          <cf_status_seamonkey215>---</cf_status_seamonkey215>
          <cf_tracking_seamonkey216>---</cf_tracking_seamonkey216>
          <cf_status_seamonkey216>---</cf_status_seamonkey216>
          <cf_tracking_seamonkey217>---</cf_tracking_seamonkey217>
          <cf_status_seamonkey217>---</cf_status_seamonkey217>
          <cf_tracking_seamonkey218>---</cf_tracking_seamonkey218>
          <cf_status_seamonkey218>---</cf_status_seamonkey218>
          <cf_tracking_seamonkey219>---</cf_tracking_seamonkey219>
          <cf_status_seamonkey219>---</cf_status_seamonkey219>
          <cf_tracking_seamonkey220>---</cf_tracking_seamonkey220>
          <cf_status_seamonkey220>---</cf_status_seamonkey220>
          <cf_tracking_seamonkey221>---</cf_tracking_seamonkey221>
          <cf_status_seamonkey221>---</cf_status_seamonkey221>
          <cf_tracking_seamonkey222>---</cf_tracking_seamonkey222>
          <cf_status_seamonkey222>---</cf_status_seamonkey222>
          <cf_tracking_seamonkey223>---</cf_tracking_seamonkey223>
          <cf_status_seamonkey223>---</cf_status_seamonkey223>
          <cf_tracking_seamonkey224>---</cf_tracking_seamonkey224>
          <cf_status_seamonkey224>---</cf_status_seamonkey224>
          <cf_tracking_seamonkey225>---</cf_tracking_seamonkey225>
          <cf_status_seamonkey225>---</cf_status_seamonkey225>
          <cf_status_seamonkey226>---</cf_status_seamonkey226>
          <cf_tracking_seamonkey226>---</cf_tracking_seamonkey226>
          <cf_status_seamonkey227>---</cf_status_seamonkey227>
          <cf_tracking_seamonkey227>---</cf_tracking_seamonkey227>
          <cf_status_seamonkey228>---</cf_status_seamonkey228>
          <cf_tracking_seamonkey228>---</cf_tracking_seamonkey228>
          <cf_status_seamonkey229>---</cf_status_seamonkey229>
          <cf_colo_site>---</cf_colo_site>
          <cf_tracking_seamonkey229>---</cf_tracking_seamonkey229>
          <cf_status_seamonkey230>---</cf_status_seamonkey230>
          <cf_office>---</cf_office>
          <cf_tracking_seamonkey230>---</cf_tracking_seamonkey230>
          <cf_status_seamonkey231>---</cf_status_seamonkey231>
          <cf_tracking_seamonkey231>---</cf_tracking_seamonkey231>
          <cf_status_seamonkey232>---</cf_status_seamonkey232>
          <cf_tracking_seamonkey232>---</cf_tracking_seamonkey232>
          <cf_crash_signature></cf_crash_signature>
          <cf_blocking_kilimanjaro>---</cf_blocking_kilimanjaro>
          <cf_blocking_b2g>---</cf_blocking_b2g>
          <cf_blocking_basecamp>---</cf_blocking_basecamp>
          <cf_feature_b2g>---</cf_feature_b2g>
          <cf_ux_b2g>---</cf_ux_b2g>
          <cf_last_resolved>2013-11-18 12:39:15</cf_last_resolved>
          <cf_user_story></cf_user_story>
          <cf_mozilla_project>---</cf_mozilla_project>
          <cf_machine_state>---</cf_machine_state>
          <cf_qa_whiteboard></cf_qa_whiteboard>
          <cf_fx_iteration>---</cf_fx_iteration>
          <cf_fx_points>---</cf_fx_points>
          <cf_last_resolved>2013-11-18 12:39:15</cf_last_resolved>
          <votes>0</votes>
          <long_desc isprivate="0">
               <commentid>7949860</commentid>
               <attachid>815815</attachid>
               <who name="Dão Gottwald [:dao]">dao</who>
               <bug_when>2013-10-11 05:24:10 -0700</bug_when>
               <thetext>Created attachment 815815
patch

The forward icon is now 18 instead of 24 pixels wide.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>7950323</commentid>
               <who name="Dão Gottwald [:dao]">dao</who>
               <bug_when>2013-10-11 08:04:54 -0700</bug_when>
               <thetext>http://hg.mozilla.org/projects/ux/rev/f0b25f2217ab</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8092710</commentid>
               <who name=":Gijs Kruitbosch">gijskruitbosch+bugs</who>
               <bug_when>2013-11-18 12:39:15 -0800</bug_when>
               <thetext>https://hg.mozilla.org/mozilla-central/rev/f0b25f2217ab</thetext>
          </long_desc>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
               <attachid>815815</attachid>
               <date>2013-10-11 05:24:10 -0700</date>
               <delta_ts>2013-10-11 05:25:32 -0700</delta_ts>
               <desc>patch</desc>
               <filename>conditionalForwardWithUrlbarWidth.diff</filename>
               <type>text/plain</type>
               <size>710</size>
               <attacher>dao</attacher>
               <flag name="review"
          id="730121"
          type_id="748"
          status="+"
          setter="gijskruitbosch+bugs"
    />
          </attachment>
     </bug>
     <bug>
          <bug_id>827405</bug_id>
          <creation_ts>2013-01-07 09:39:22 -0800</creation_ts>
          <short_desc>Lazily &quot;activate&quot; download items when they become visible in the richlistbox area</short_desc>
          <delta_ts>2013-01-15 10:52:50 -0800</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Client Software</classification>
          <product>Firefox</product>
          <component>Downloads Panel</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P1</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>Firefox 21</target_milestone>
          <dependson>830842</dependson>
          <blocked>827428</blocked>
          <blocked>825846</blocked>
          <blocked>827245</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Marco Bonardo [::mak] (needinfo? me)">mak77</reporter>
          <assigned_to name="Marco Bonardo [::mak] (needinfo? me)">mak77</assigned_to>
          <cc>BernesB</cc>
          <cc>mak77</cc>
          <cc>mano</cc>
          <cc>mar.castelluccio</cc>
          <cc>timbugzilla</cc>
          <cf_blocking_loop>---</cf_blocking_loop>
          <cf_tracking_e10s>---</cf_tracking_e10s>
          <cf_tracking_firefox5>---</cf_tracking_firefox5>
          <cf_status_firefox5>---</cf_status_firefox5>
          <cf_tracking_firefox6>---</cf_tracking_firefox6>
          <cf_status_firefox6>---</cf_status_firefox6>
          <cf_tracking_firefox7>---</cf_tracking_firefox7>
          <cf_status_firefox7>---</cf_status_firefox7>
          <cf_tracking_firefox8>---</cf_tracking_firefox8>
          <cf_status_firefox8>---</cf_status_firefox8>
          <cf_tracking_firefox9>---</cf_tracking_firefox9>
          <cf_status_firefox9>---</cf_status_firefox9>
          <cf_tracking_firefox10>---</cf_tracking_firefox10>
          <cf_status_firefox10>---</cf_status_firefox10>
          <cf_tracking_firefox11>---</cf_tracking_firefox11>
          <cf_status_firefox11>---</cf_status_firefox11>
          <cf_tracking_firefox12>---</cf_tracking_firefox12>
          <cf_status_firefox12>---</cf_status_firefox12>
          <cf_tracking_firefox13>---</cf_tracking_firefox13>
          <cf_status_firefox13>---</cf_status_firefox13>
          <cf_tracking_firefox14>---</cf_tracking_firefox14>
          <cf_status_firefox14>---</cf_status_firefox14>
          <cf_tracking_firefox15>---</cf_tracking_firefox15>
          <cf_status_firefox15>---</cf_status_firefox15>
          <cf_tracking_firefox16>---</cf_tracking_firefox16>
          <cf_status_firefox16>---</cf_status_firefox16>
          <cf_tracking_firefox17>---</cf_tracking_firefox17>
          <cf_status_firefox17>---</cf_status_firefox17>
          <cf_tracking_firefox18>---</cf_tracking_firefox18>
          <cf_status_firefox18>---</cf_status_firefox18>
          <cf_tracking_firefox19>---</cf_tracking_firefox19>
          <cf_status_firefox19>---</cf_status_firefox19>
          <cf_tracking_firefox20>---</cf_tracking_firefox20>
          <cf_status_firefox20>fixed</cf_status_firefox20>
          <cf_tracking_firefox21>---</cf_tracking_firefox21>
          <cf_status_firefox21>---</cf_status_firefox21>
          <cf_tracking_firefox22>---</cf_tracking_firefox22>
          <cf_status_firefox22>---</cf_status_firefox22>
          <cf_tracking_firefox23>---</cf_tracking_firefox23>
          <cf_status_firefox23>---</cf_status_firefox23>
          <cf_tracking_firefox24>---</cf_tracking_firefox24>
          <cf_status_firefox24>---</cf_status_firefox24>
          <cf_tracking_firefox25>---</cf_tracking_firefox25>
          <cf_status_firefox25>---</cf_status_firefox25>
          <cf_tracking_firefox26>---</cf_tracking_firefox26>
          <cf_status_firefox26>---</cf_status_firefox26>
          <cf_tracking_firefox27>---</cf_tracking_firefox27>
          <cf_status_firefox27>---</cf_status_firefox27>
          <cf_tracking_firefox28>---</cf_tracking_firefox28>
          <cf_status_firefox28>---</cf_status_firefox28>
          <cf_tracking_firefox29>---</cf_tracking_firefox29>
          <cf_status_firefox29>---</cf_status_firefox29>
          <cf_tracking_firefox30>---</cf_tracking_firefox30>
          <cf_status_firefox30>---</cf_status_firefox30>
          <cf_tracking_firefox31>---</cf_tracking_firefox31>
          <cf_status_firefox31>---</cf_status_firefox31>
          <cf_tracking_firefox32>---</cf_tracking_firefox32>
          <cf_status_firefox32>---</cf_status_firefox32>
          <cf_tracking_firefox33>---</cf_tracking_firefox33>
          <cf_status_firefox33>---</cf_status_firefox33>
          <cf_tracking_firefox34>---</cf_tracking_firefox34>
          <cf_status_firefox34>---</cf_status_firefox34>
          <cf_tracking_firefox35>---</cf_tracking_firefox35>
          <cf_status_firefox35>---</cf_status_firefox35>
          <cf_tracking_esr10>---</cf_tracking_esr10>
          <cf_status_esr10>---</cf_status_esr10>
          <cf_tracking_firefox_esr17>---</cf_tracking_firefox_esr17>
          <cf_status_firefox_esr17>---</cf_status_firefox_esr17>
          <cf_tracking_firefox_esr24>---</cf_tracking_firefox_esr24>
          <cf_status_firefox_esr24>---</cf_status_firefox_esr24>
          <cf_tracking_firefox_esr31>---</cf_tracking_firefox_esr31>
          <cf_status_firefox_esr31>---</cf_status_firefox_esr31>
          <cf_tracking_b2g18>---</cf_tracking_b2g18>
          <cf_status_b2g18>---</cf_status_b2g18>
          <cf_status_b2g30>---</cf_status_b2g30>
          <cf_status_b2g18_1_0_0>---</cf_status_b2g18_1_0_0>
          <cf_status_b2g18_1_0_1>---</cf_status_b2g18_1_0_1>
          <cf_status_b2g_1_1_hd>---</cf_status_b2g_1_1_hd>
          <cf_tracking_b2g_v1_2>---</cf_tracking_b2g_v1_2>
          <cf_status_b2g_1_2>---</cf_status_b2g_1_2>
          <cf_tracking_b2g_v1_3>---</cf_tracking_b2g_v1_3>
          <cf_status_b2g_1_3>---</cf_status_b2g_1_3>
          <cf_status_b2g_1_3t>---</cf_status_b2g_1_3t>
          <cf_blocking_20>---</cf_blocking_20>
          <cf_status_20>---</cf_status_20>
          <cf_status_b2g_1_4>---</cf_status_b2g_1_4>
          <cf_status_b2g_2_0>---</cf_status_b2g_2_0>
          <cf_status_b2g_2_0m>---</cf_status_b2g_2_0m>
          <cf_status_b2g_2_1>---</cf_status_b2g_2_1>
          <cf_status_b2g_2_2>---</cf_status_b2g_2_2>
          <cf_blocking_192>---</cf_blocking_192>
          <cf_blocking_fx>---</cf_blocking_fx>
          <cf_tracking_firefox_relnote>---</cf_tracking_firefox_relnote>
          <cf_status_192>---</cf_status_192>
          <cf_tracking_relnote_b2g>---</cf_tracking_relnote_b2g>
          <cf_blocking_191>---</cf_blocking_191>
          <cf_status_191>---</cf_status_191>
          <cf_blocking_fennec10>---</cf_blocking_fennec10>
          <cf_blocking_fennec>---</cf_blocking_fennec>
          <cf_blocking_thunderbird33>---</cf_blocking_thunderbird33>
          <cf_status_thunderbird33>---</cf_status_thunderbird33>
          <cf_blocking_thunderbird32>---</cf_blocking_thunderbird32>
          <cf_status_thunderbird32>---</cf_status_thunderbird32>
          <cf_blocking_thunderbird31>---</cf_blocking_thunderbird31>
          <cf_status_thunderbird31>---</cf_status_thunderbird31>
          <cf_blocking_thunderbird30>---</cf_blocking_thunderbird30>
          <cf_status_thunderbird30>---</cf_status_thunderbird30>
          <cf_tracking_thunderbird6>---</cf_tracking_thunderbird6>
          <cf_status_thunderbird6>---</cf_status_thunderbird6>
          <cf_tracking_thunderbird7>---</cf_tracking_thunderbird7>
          <cf_status_thunderbird7>---</cf_status_thunderbird7>
          <cf_tracking_thunderbird8>---</cf_tracking_thunderbird8>
          <cf_status_thunderbird8>---</cf_status_thunderbird8>
          <cf_tracking_thunderbird9>---</cf_tracking_thunderbird9>
          <cf_status_thunderbird9>---</cf_status_thunderbird9>
          <cf_tracking_thunderbird10>---</cf_tracking_thunderbird10>
          <cf_status_thunderbird10>---</cf_status_thunderbird10>
          <cf_tracking_thunderbird11>---</cf_tracking_thunderbird11>
          <cf_status_thunderbird11>---</cf_status_thunderbird11>
          <cf_tracking_thunderbird12>---</cf_tracking_thunderbird12>
          <cf_status_thunderbird12>---</cf_status_thunderbird12>
          <cf_tracking_thunderbird13>---</cf_tracking_thunderbird13>
          <cf_status_thunderbird13>---</cf_status_thunderbird13>
          <cf_tracking_thunderbird14>---</cf_tracking_thunderbird14>
          <cf_status_thunderbird14>---</cf_status_thunderbird14>
          <cf_tracking_thunderbird15>---</cf_tracking_thunderbird15>
          <cf_status_thunderbird15>---</cf_status_thunderbird15>
          <cf_tracking_thunderbird16>---</cf_tracking_thunderbird16>
          <cf_status_thunderbird16>---</cf_status_thunderbird16>
          <cf_tracking_thunderbird17>---</cf_tracking_thunderbird17>
          <cf_status_thunderbird17>---</cf_status_thunderbird17>
          <cf_tracking_thunderbird18>---</cf_tracking_thunderbird18>
          <cf_status_thunderbird18>---</cf_status_thunderbird18>
          <cf_tracking_thunderbird19>---</cf_tracking_thunderbird19>
          <cf_status_thunderbird19>---</cf_status_thunderbird19>
          <cf_tracking_thunderbird20>---</cf_tracking_thunderbird20>
          <cf_status_thunderbird20>---</cf_status_thunderbird20>
          <cf_tracking_thunderbird21>---</cf_tracking_thunderbird21>
          <cf_status_thunderbird21>---</cf_status_thunderbird21>
          <cf_tracking_thunderbird22>---</cf_tracking_thunderbird22>
          <cf_status_thunderbird22>---</cf_status_thunderbird22>
          <cf_tracking_thunderbird23>---</cf_tracking_thunderbird23>
          <cf_status_thunderbird23>---</cf_status_thunderbird23>
          <cf_tracking_thunderbird24>---</cf_tracking_thunderbird24>
          <cf_status_thunderbird24>---</cf_status_thunderbird24>
          <cf_tracking_thunderbird25>---</cf_tracking_thunderbird25>
          <cf_status_thunderbird25>---</cf_status_thunderbird25>
          <cf_tracking_thunderbird26>---</cf_tracking_thunderbird26>
          <cf_status_thunderbird26>---</cf_status_thunderbird26>
          <cf_tracking_thunderbird27>---</cf_tracking_thunderbird27>
          <cf_status_thunderbird27>---</cf_status_thunderbird27>
          <cf_tracking_thunderbird28>---</cf_tracking_thunderbird28>
          <cf_status_thunderbird28>---</cf_status_thunderbird28>
          <cf_tracking_thunderbird29>---</cf_tracking_thunderbird29>
          <cf_status_thunderbird29>---</cf_status_thunderbird29>
          <cf_tracking_thunderbird_30>---</cf_tracking_thunderbird_30>
          <cf_status_thunderbird_30>---</cf_status_thunderbird_30>
          <cf_tracking_thunderbird_31>---</cf_tracking_thunderbird_31>
          <cf_status_thunderbird_31>---</cf_status_thunderbird_31>
          <cf_tracking_thunderbird_32>---</cf_tracking_thunderbird_32>
          <cf_status_thunderbird_32>---</cf_status_thunderbird_32>
          <cf_tracking_thunderbird_esr10>---</cf_tracking_thunderbird_esr10>
          <cf_status_thunderbird_esr10>---</cf_status_thunderbird_esr10>
          <cf_tracking_thunderbird_esr17>---</cf_tracking_thunderbird_esr17>
          <cf_status_thunderbird_esr17>---</cf_status_thunderbird_esr17>
          <cf_tracking_thunderbird_esr24>---</cf_tracking_thunderbird_esr24>
          <cf_status_thunderbird_esr24>---</cf_status_thunderbird_esr24>
          <cf_tracking_thunderbird_33>---</cf_tracking_thunderbird_33>
          <cf_status_thunderbird_33>---</cf_status_thunderbird_33>
          <cf_tracking_thunderbird_34>---</cf_tracking_thunderbird_34>
          <cf_status_thunderbird_34>---</cf_status_thunderbird_34>
          <cf_tracking_thunderbird_35>---</cf_tracking_thunderbird_35>
          <cf_status_thunderbird_35>---</cf_status_thunderbird_35>
          <cf_tracking_thunderbird_esr31>---</cf_tracking_thunderbird_esr31>
          <cf_status_thunderbird_esr31>---</cf_status_thunderbird_esr31>
          <cf_blocking_seamonkey21>---</cf_blocking_seamonkey21>
          <cf_status_seamonkey21>---</cf_status_seamonkey21>
          <cf_tracking_seamonkey22>---</cf_tracking_seamonkey22>
          <cf_status_seamonkey22>---</cf_status_seamonkey22>
          <cf_tracking_seamonkey23>---</cf_tracking_seamonkey23>
          <cf_status_seamonkey23>---</cf_status_seamonkey23>
          <cf_tracking_seamonkey24>---</cf_tracking_seamonkey24>
          <cf_status_seamonkey24>---</cf_status_seamonkey24>
          <cf_tracking_seamonkey25>---</cf_tracking_seamonkey25>
          <cf_status_seamonkey25>---</cf_status_seamonkey25>
          <cf_tracking_seamonkey26>---</cf_tracking_seamonkey26>
          <cf_status_seamonkey26>---</cf_status_seamonkey26>
          <cf_tracking_seamonkey27>---</cf_tracking_seamonkey27>
          <cf_status_seamonkey27>---</cf_status_seamonkey27>
          <cf_tracking_seamonkey28>---</cf_tracking_seamonkey28>
          <cf_status_seamonkey28>---</cf_status_seamonkey28>
          <cf_tracking_seamonkey29>---</cf_tracking_seamonkey29>
          <cf_status_seamonkey29>---</cf_status_seamonkey29>
          <cf_tracking_seamonkey210>---</cf_tracking_seamonkey210>
          <cf_status_seamonkey210>---</cf_status_seamonkey210>
          <cf_tracking_seamonkey211>---</cf_tracking_seamonkey211>
          <cf_status_seamonkey211>---</cf_status_seamonkey211>
          <cf_tracking_seamonkey212>---</cf_tracking_seamonkey212>
          <cf_status_seamonkey212>---</cf_status_seamonkey212>
          <cf_tracking_seamonkey213>---</cf_tracking_seamonkey213>
          <cf_status_seamonkey213>---</cf_status_seamonkey213>
          <cf_tracking_seamonkey214>---</cf_tracking_seamonkey214>
          <cf_status_seamonkey214>---</cf_status_seamonkey214>
          <cf_tracking_seamonkey215>---</cf_tracking_seamonkey215>
          <cf_status_seamonkey215>---</cf_status_seamonkey215>
          <cf_tracking_seamonkey216>---</cf_tracking_seamonkey216>
          <cf_status_seamonkey216>---</cf_status_seamonkey216>
          <cf_tracking_seamonkey217>---</cf_tracking_seamonkey217>
          <cf_status_seamonkey217>---</cf_status_seamonkey217>
          <cf_tracking_seamonkey218>---</cf_tracking_seamonkey218>
          <cf_status_seamonkey218>---</cf_status_seamonkey218>
          <cf_tracking_seamonkey219>---</cf_tracking_seamonkey219>
          <cf_status_seamonkey219>---</cf_status_seamonkey219>
          <cf_tracking_seamonkey220>---</cf_tracking_seamonkey220>
          <cf_status_seamonkey220>---</cf_status_seamonkey220>
          <cf_tracking_seamonkey221>---</cf_tracking_seamonkey221>
          <cf_status_seamonkey221>---</cf_status_seamonkey221>
          <cf_tracking_seamonkey222>---</cf_tracking_seamonkey222>
          <cf_status_seamonkey222>---</cf_status_seamonkey222>
          <cf_tracking_seamonkey223>---</cf_tracking_seamonkey223>
          <cf_status_seamonkey223>---</cf_status_seamonkey223>
          <cf_tracking_seamonkey224>---</cf_tracking_seamonkey224>
          <cf_status_seamonkey224>---</cf_status_seamonkey224>
          <cf_tracking_seamonkey225>---</cf_tracking_seamonkey225>
          <cf_status_seamonkey225>---</cf_status_seamonkey225>
          <cf_status_seamonkey226>---</cf_status_seamonkey226>
          <cf_tracking_seamonkey226>---</cf_tracking_seamonkey226>
          <cf_status_seamonkey227>---</cf_status_seamonkey227>
          <cf_tracking_seamonkey227>---</cf_tracking_seamonkey227>
          <cf_status_seamonkey228>---</cf_status_seamonkey228>
          <cf_tracking_seamonkey228>---</cf_tracking_seamonkey228>
          <cf_status_seamonkey229>---</cf_status_seamonkey229>
          <cf_colo_site>---</cf_colo_site>
          <cf_tracking_seamonkey229>---</cf_tracking_seamonkey229>
          <cf_status_seamonkey230>---</cf_status_seamonkey230>
          <cf_office>---</cf_office>
          <cf_tracking_seamonkey230>---</cf_tracking_seamonkey230>
          <cf_status_seamonkey231>---</cf_status_seamonkey231>
          <cf_tracking_seamonkey231>---</cf_tracking_seamonkey231>
          <cf_status_seamonkey232>---</cf_status_seamonkey232>
          <cf_tracking_seamonkey232>---</cf_tracking_seamonkey232>
          <cf_crash_signature></cf_crash_signature>
          <cf_blocking_kilimanjaro>---</cf_blocking_kilimanjaro>
          <cf_blocking_b2g>---</cf_blocking_b2g>
          <cf_blocking_basecamp>---</cf_blocking_basecamp>
          <cf_feature_b2g>---</cf_feature_b2g>
          <cf_ux_b2g>---</cf_ux_b2g>
          <cf_last_resolved>2013-01-09 06:00:43</cf_last_resolved>
          <cf_user_story></cf_user_story>
          <cf_mozilla_project>---</cf_mozilla_project>
          <cf_machine_state>---</cf_machine_state>
          <cf_qa_whiteboard></cf_qa_whiteboard>
          <cf_fx_iteration>---</cf_fx_iteration>
          <cf_fx_points>---</cf_fx_points>
          <cf_last_resolved>2013-01-09 06:00:43</cf_last_resolved>
          <votes>0</votes>
          <long_desc isprivate="0">
               <commentid>6970665</commentid>
               <who name="Marco Bonardo [::mak] (needinfo? me)">mak77</who>
               <bug_when>2013-01-07 09:39:22 -0800</bug_when>
               <thetext>Discussed briefly with Mano and we came to the conclusion this is a good first step in the lazy direction before taking decision on bug 825846.
Regardless the fact we fix the widget performances or fake it by loading stuff in chunks, in both cases we need to avoid stat()ing thousands of files for nothing.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6972477</commentid>
               <attachid>698955</attachid>
               <who name="Marco Bonardo [::mak] (needinfo? me)">mak77</who>
               <bug_when>2013-01-07 16:38:03 -0800</bug_when>
               <thetext>Created attachment 698955
patch v1.0

This seems to do the job quite fine, the only hack I don&apos;t like much is the mainthread enqueueing, but in the end it sounds safer to let layout change before recalculating everything.
Let me know what you think.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6973482</commentid>
               <attachid>698955</attachid>
               <who name="Mano (::mano, needinfo? for any questions; not reading general bugmail)">mano</who>
               <bug_when>2013-01-08 01:39:19 -0800</bug_when>
               <thetext>Comment on attachment 698955
patch v1.0

&gt;- if (aAnnotations)
&gt;+  if (aAnnotations)
&gt;     this._annotations = aAnnotations;
&gt;-  if (aDataItem)
&gt;+  if (aDataItem) {
&gt;+    this._active = true;
&gt;     this.dataItem = aDataItem;
&gt;+  }
&gt;   if (aPlacesNode)
&gt;     this.placesNode = aPlacesNode;
&gt; }
&gt;
&gt; DownloadElementShell.prototype = {
&gt;   // The richlistitem for the download
&gt;   get element() this._element,
&gt;
&gt;+  /**
&gt;+   * Manages the &quot;active&quot; state of the shell.  By default all the shells
&gt;+   * without a dataitem are inactive, thus their UI is not updated.

State explicitly that session-downloads are automatically activated.

&gt;+   * be activated when entering the visible area.
&gt;+   */
&gt;+  set active(val) {

I&apos;d rather go with a simple &quot;activate&quot; method, because we&apos;re not got to deactivate shells. It&apos;s not worth the trouble.

&gt;+      this._updateStatusUI();
&gt;+      this._fetchTargetFileInfo();
&gt;+    }
&gt;+    return this._active;
&gt;+  },
&gt;+  get active() !!this._active,
&gt;+
&gt;   // The data item for the download
&gt;   _dataItem: null,
&gt;   get dataItem() this._dataItem,
&gt;
&gt;   set dataItem(aValue) {

Setting the data item at any point should activate the shell, not just in the constructor.

&gt;   _fetchTargetFileInfo: function DES__fetchTargetFileInfo() {
&gt;     if (this._targetFileInfoFetched)
&gt;       throw new Error(&quot;_fetchTargetFileInfo should not be called if the information was already fetched&quot;);
&gt;+    if (!this.active)
&gt;+      return;

Hrm, it seems more like the caller&apos;s job.

&gt;   _updateStatusUI: function DES__updateStatusUI() {
&gt;+    if (!this.active)
&gt;+      return;

Ditto.

&gt;   // Returns whether or not the download handled by this shell should
&gt;   // show up in the search results for the given term.  Both the display
&gt;   // name for the download and the url are searched.
&gt;   matchesSearchTerm: function DES_matchesSearchTerm(aTerm) {
&gt;     // Stub implemention until we figure out something better
&gt;+    if (!aTerm)
&gt;+      return true;

Please remove my comment while you&apos;re there. Both because it has a typo and because we&apos;re not going to figure out something better.

&gt;+  // Resizing the window may change items visibility.
&gt;+  window.addEventListener(&quot;resize&quot;, function() {
&gt;+    this._ensureVisibleElementsAreActive();
&gt;+  }.bind(this), true);
&gt; }
...
&gt;+  _ensureVisibleElementsAreActive:
&gt;+  function DPV__ensureVisibleElementsAreActive() {
&gt;+    if (!this._richlistbox.firstChild)
&gt;+      return;
&gt;+
&gt;+    // When the view location is set, the details pane gets hidden and the
&gt;+    // richlistbox size changes.  So ensure to run after any initialization.
&gt;+    Services.tm.mainThread.dispatch(function() {

I deliberately made it so this view initializes once for the window, but it turns out we do need some kind of &quot;active&quot; property on the view as well, to be altered by the places organizer shows the view.

That&apos;d avoid the need for both the need for this hack and the unnecessary work we&apos;d do when the places organizer is resized as it shows some bookmarks.

The &quot;active&quot; property should default to true so views that do not need it may just return true. However, because we need this view to be inactive when it&apos;s initialized, please add it as a constructor argument (Note that the in-content view should set it true).

&gt;+      let rbo = this._richlistbox.boxObject;
&gt;+      let fbo = this._richlistbox.firstChild.boxObject;

As you&apos;re already using the standard elementFromPoint method, let&apos;s go with getBoundingClientRect.

&gt;   nodeInserted: function DPV_nodeInserted(aParent, aPlacesNode) {
&gt;     this._addDownloadData(null, aPlacesNode);
&gt;+    this._ensureVisibleElementsAreActive();
&gt;   },
&gt;
&gt;   nodeRemoved: function DPV_nodeRemoved(aParent, aPlacesNode, aOldIndex) {
&gt;     this._removeHistoryDownloadFromView(aPlacesNode);
&gt;+    this._ensureVisibleElementsAreActive();
&gt;   },
&gt;

_addDownloadData and _removeHistoryDownloadFromView seem like better entry points.

In _addDownloadData you can check if the dom fragment is set in order to leave the &quot;activate&quot;
work to invalidateContainer.

&gt;   },
&gt;
&gt;   onDataItemRemoved: function DPV_onDataItemRemoved(aDataItem) {
&gt;     this._removeSessionDownloadFromView(aDataItem);
&gt;+    this._ensureVisibleElementsAreActive();
&gt;   },
&gt;

This belongs to _removeSessionDownloadFromView.

&gt;   onDataItemAdded: function DPV_onDataItemAdded(aDataItem, aNewest) {
&gt;     this._addDownloadData(aDataItem, null, aNewest);
&gt;+    this._ensureVisibleElementsAreActive();

This shouldn&apos;t be necessary. Session downloads are pushing away history downloads.

&gt;+
&gt;+  onScroll: function DPV_onScroll()
&gt;+  {

Nit: move the brace to its place</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6973700</commentid>
               <attachid>699076</attachid>
               <who name="Mano (::mano, needinfo? for any questions; not reading general bugmail)">mano</who>
               <bug_when>2013-01-08 02:40:06 -0800</bug_when>
               <thetext>Created attachment 699076
the &quot;active&quot; property i was thinking of

As discussed over IRC.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6974469</commentid>
               <attachid>699170</attachid>
               <who name="Marco Bonardo [::mak] (needinfo? me)">mak77</who>
               <bug_when>2013-01-08 06:10:49 -0800</bug_when>
               <thetext>Created attachment 699170
wip</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6974661</commentid>
               <attachid>699194</attachid>
               <who name="Marco Bonardo [::mak] (needinfo? me)">mak77</who>
               <bug_when>2013-01-08 07:03:34 -0800</bug_when>
               <thetext>Created attachment 699194
patch v1.1

I think I covered everything we discussed over IRC</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6974733</commentid>
               <attachid>699194</attachid>
               <who name="Mano (::mano, needinfo? for any questions; not reading general bugmail)">mano</who>
               <bug_when>2013-01-08 07:18:53 -0800</bug_when>
               <thetext>Comment on attachment 699194
patch v1.1

&gt;+      // If the found last visible child is not a richlistitem, then there are
&quot;If the last visible child found&quot;</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6975282</commentid>
               <attachid>699264</attachid>
               <who name="Marco Bonardo [::mak] (needinfo? me)">mak77</who>
               <bug_when>2013-01-08 08:55:34 -0800</bug_when>
               <thetext>Created attachment 699264
patch v1.2</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6976731</commentid>
               <who name="Marco Bonardo [::mak] (needinfo? me)">mak77</who>
               <bug_when>2013-01-08 13:59:08 -0800</bug_when>
               <thetext>https://hg.mozilla.org/integration/mozilla-inbound/rev/303b3bb5f27f</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6979239</commentid>
               <who name="Ed Morley [:edmorley]">emorley</who>
               <bug_when>2013-01-09 06:00:43 -0800</bug_when>
               <thetext>https://hg.mozilla.org/mozilla-central/rev/303b3bb5f27f</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6984090</commentid>
               <attachid>699264</attachid>
               <who name="Marco Bonardo [::mak] (needinfo? me)">mak77</who>
               <bug_when>2013-01-10 02:27:17 -0800</bug_when>
               <thetext>Comment on attachment 699264
patch v1.2

[Approval Request Comment]
Bug caused by (feature/regressing bug #): Downloads panel feature
User impact if declined: Performance issues
Testing completed (on m-c, etc.): m-c
Risk to taking this patch (and alternatives if risky): limited to the feature
String or UUID changes made by this patch: none</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6987105</commentid>
               <who name="Marco Bonardo [::mak] (needinfo? me)">mak77</who>
               <bug_when>2013-01-10 13:08:06 -0800</bug_when>
               <thetext>https://hg.mozilla.org/releases/mozilla-aurora/rev/6ec8ebb4f02e</thetext>
          </long_desc>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
               <attachid>698955</attachid>
               <date>2013-01-07 16:38:03 -0800</date>
               <delta_ts>2013-01-08 06:10:49 -0800</delta_ts>
               <desc>patch v1.0</desc>
               <filename>827405.diff</filename>
               <type>text/plain</type>
               <size>11196</size>
               <attacher>mak77</attacher>
               <flag name="feedback"
          id="589186"
          type_id="607"
          status="+"
          setter="mano"
    />
          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
               <attachid>699076</attachid>
               <date>2013-01-08 02:40:06 -0800</date>
               <delta_ts>2013-01-08 06:10:49 -0800</delta_ts>
               <desc>the &quot;active&quot; property i was thinking of</desc>
               <filename>patch.diff</filename>
               <type>text/plain</type>
               <size>7773</size>
               <attacher>mano</attacher>
          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
               <attachid>699170</attachid>
               <date>2013-01-08 06:10:49 -0800</date>
               <delta_ts>2013-01-08 07:03:34 -0800</delta_ts>
               <desc>wip</desc>
               <filename>scroll.diff</filename>
               <type>text/plain</type>
               <size>14425</size>
               <attacher>mak77</attacher>
          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
               <attachid>699194</attachid>
               <date>2013-01-08 07:03:34 -0800</date>
               <delta_ts>2013-01-08 08:55:34 -0800</delta_ts>
               <desc>patch v1.1</desc>
               <filename>827405.diff</filename>
               <type>text/plain</type>
               <size>22126</size>
               <attacher>mak77</attacher>
               <flag name="review"
          id="589485"
          type_id="748"
          status="+"
          setter="mano"
    />
          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
               <attachid>699264</attachid>
               <date>2013-01-08 08:55:34 -0800</date>
               <delta_ts>2013-01-10 12:28:16 -0800</delta_ts>
               <desc>patch v1.2</desc>
               <filename>827405.diff</filename>
               <type>text/plain</type>
               <size>22156</size>
               <attacher>mak77</attacher>
               <flag name="approval-mozilla-aurora"
          id="590574"
          type_id="720"
          status="+"
          setter="gavin.sharp"
    />
          </attachment>
     </bug>
     <bug>
          <bug_id>847886</bug_id>
          <creation_ts>2013-03-05 04:42:30 -0800</creation_ts>
          <short_desc>fonts.xul should perform alias resolution using EncodingUtils::EncodingFromLabel when populating menu for intl.charset.default</short_desc>
          <delta_ts>2013-11-25 05:07:11 -0800</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Client Software</classification>
          <product>Firefox</product>
          <component>Preferences</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>WORKSFORME</resolution>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>--</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>---</target_milestone>
          <blocked>801402</blocked>
          <blocked>805374</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Henri Sivonen (:hsivonen)">hsivonen</reporter>
          <assigned_to name="Nobody; OK to take it and work on it">nobody</assigned_to>
          <cc>annevk</cc>
          <cc>VYV03354</cc>
          <cf_blocking_loop>---</cf_blocking_loop>
          <cf_tracking_e10s>---</cf_tracking_e10s>
          <cf_tracking_firefox5>---</cf_tracking_firefox5>
          <cf_status_firefox5>---</cf_status_firefox5>
          <cf_tracking_firefox6>---</cf_tracking_firefox6>
          <cf_status_firefox6>---</cf_status_firefox6>
          <cf_tracking_firefox7>---</cf_tracking_firefox7>
          <cf_status_firefox7>---</cf_status_firefox7>
          <cf_tracking_firefox8>---</cf_tracking_firefox8>
          <cf_status_firefox8>---</cf_status_firefox8>
          <cf_tracking_firefox9>---</cf_tracking_firefox9>
          <cf_status_firefox9>---</cf_status_firefox9>
          <cf_tracking_firefox10>---</cf_tracking_firefox10>
          <cf_status_firefox10>---</cf_status_firefox10>
          <cf_tracking_firefox11>---</cf_tracking_firefox11>
          <cf_status_firefox11>---</cf_status_firefox11>
          <cf_tracking_firefox12>---</cf_tracking_firefox12>
          <cf_status_firefox12>---</cf_status_firefox12>
          <cf_tracking_firefox13>---</cf_tracking_firefox13>
          <cf_status_firefox13>---</cf_status_firefox13>
          <cf_tracking_firefox14>---</cf_tracking_firefox14>
          <cf_status_firefox14>---</cf_status_firefox14>
          <cf_tracking_firefox15>---</cf_tracking_firefox15>
          <cf_status_firefox15>---</cf_status_firefox15>
          <cf_tracking_firefox16>---</cf_tracking_firefox16>
          <cf_status_firefox16>---</cf_status_firefox16>
          <cf_tracking_firefox17>---</cf_tracking_firefox17>
          <cf_status_firefox17>---</cf_status_firefox17>
          <cf_tracking_firefox18>---</cf_tracking_firefox18>
          <cf_status_firefox18>---</cf_status_firefox18>
          <cf_tracking_firefox19>---</cf_tracking_firefox19>
          <cf_status_firefox19>---</cf_status_firefox19>
          <cf_tracking_firefox20>---</cf_tracking_firefox20>
          <cf_status_firefox20>---</cf_status_firefox20>
          <cf_tracking_firefox21>---</cf_tracking_firefox21>
          <cf_status_firefox21>---</cf_status_firefox21>
          <cf_tracking_firefox22>---</cf_tracking_firefox22>
          <cf_status_firefox22>---</cf_status_firefox22>
          <cf_tracking_firefox23>---</cf_tracking_firefox23>
          <cf_status_firefox23>---</cf_status_firefox23>
          <cf_tracking_firefox24>---</cf_tracking_firefox24>
          <cf_status_firefox24>---</cf_status_firefox24>
          <cf_tracking_firefox25>---</cf_tracking_firefox25>
          <cf_status_firefox25>---</cf_status_firefox25>
          <cf_tracking_firefox26>---</cf_tracking_firefox26>
          <cf_status_firefox26>---</cf_status_firefox26>
          <cf_tracking_firefox27>---</cf_tracking_firefox27>
          <cf_status_firefox27>---</cf_status_firefox27>
          <cf_tracking_firefox28>---</cf_tracking_firefox28>
          <cf_status_firefox28>---</cf_status_firefox28>
          <cf_tracking_firefox29>---</cf_tracking_firefox29>
          <cf_status_firefox29>---</cf_status_firefox29>
          <cf_tracking_firefox30>---</cf_tracking_firefox30>
          <cf_status_firefox30>---</cf_status_firefox30>
          <cf_tracking_firefox31>---</cf_tracking_firefox31>
          <cf_status_firefox31>---</cf_status_firefox31>
          <cf_tracking_firefox32>---</cf_tracking_firefox32>
          <cf_status_firefox32>---</cf_status_firefox32>
          <cf_tracking_firefox33>---</cf_tracking_firefox33>
          <cf_status_firefox33>---</cf_status_firefox33>
          <cf_tracking_firefox34>---</cf_tracking_firefox34>
          <cf_status_firefox34>---</cf_status_firefox34>
          <cf_tracking_firefox35>---</cf_tracking_firefox35>
          <cf_status_firefox35>---</cf_status_firefox35>
          <cf_tracking_esr10>---</cf_tracking_esr10>
          <cf_status_esr10>---</cf_status_esr10>
          <cf_tracking_firefox_esr17>---</cf_tracking_firefox_esr17>
          <cf_status_firefox_esr17>---</cf_status_firefox_esr17>
          <cf_tracking_firefox_esr24>---</cf_tracking_firefox_esr24>
          <cf_status_firefox_esr24>---</cf_status_firefox_esr24>
          <cf_tracking_firefox_esr31>---</cf_tracking_firefox_esr31>
          <cf_status_firefox_esr31>---</cf_status_firefox_esr31>
          <cf_tracking_b2g18>---</cf_tracking_b2g18>
          <cf_status_b2g18>---</cf_status_b2g18>
          <cf_status_b2g30>---</cf_status_b2g30>
          <cf_status_b2g18_1_0_0>---</cf_status_b2g18_1_0_0>
          <cf_status_b2g18_1_0_1>---</cf_status_b2g18_1_0_1>
          <cf_status_b2g_1_1_hd>---</cf_status_b2g_1_1_hd>
          <cf_tracking_b2g_v1_2>---</cf_tracking_b2g_v1_2>
          <cf_status_b2g_1_2>---</cf_status_b2g_1_2>
          <cf_tracking_b2g_v1_3>---</cf_tracking_b2g_v1_3>
          <cf_status_b2g_1_3>---</cf_status_b2g_1_3>
          <cf_status_b2g_1_3t>---</cf_status_b2g_1_3t>
          <cf_blocking_20>---</cf_blocking_20>
          <cf_status_20>---</cf_status_20>
          <cf_status_b2g_1_4>---</cf_status_b2g_1_4>
          <cf_status_b2g_2_0>---</cf_status_b2g_2_0>
          <cf_status_b2g_2_0m>---</cf_status_b2g_2_0m>
          <cf_status_b2g_2_1>---</cf_status_b2g_2_1>
          <cf_status_b2g_2_2>---</cf_status_b2g_2_2>
          <cf_blocking_192>---</cf_blocking_192>
          <cf_blocking_fx>---</cf_blocking_fx>
          <cf_tracking_firefox_relnote>---</cf_tracking_firefox_relnote>
          <cf_status_192>---</cf_status_192>
          <cf_tracking_relnote_b2g>---</cf_tracking_relnote_b2g>
          <cf_blocking_191>---</cf_blocking_191>
          <cf_status_191>---</cf_status_191>
          <cf_blocking_fennec10>---</cf_blocking_fennec10>
          <cf_blocking_fennec>---</cf_blocking_fennec>
          <cf_blocking_thunderbird33>---</cf_blocking_thunderbird33>
          <cf_status_thunderbird33>---</cf_status_thunderbird33>
          <cf_blocking_thunderbird32>---</cf_blocking_thunderbird32>
          <cf_status_thunderbird32>---</cf_status_thunderbird32>
          <cf_blocking_thunderbird31>---</cf_blocking_thunderbird31>
          <cf_status_thunderbird31>---</cf_status_thunderbird31>
          <cf_blocking_thunderbird30>---</cf_blocking_thunderbird30>
          <cf_status_thunderbird30>---</cf_status_thunderbird30>
          <cf_tracking_thunderbird6>---</cf_tracking_thunderbird6>
          <cf_status_thunderbird6>---</cf_status_thunderbird6>
          <cf_tracking_thunderbird7>---</cf_tracking_thunderbird7>
          <cf_status_thunderbird7>---</cf_status_thunderbird7>
          <cf_tracking_thunderbird8>---</cf_tracking_thunderbird8>
          <cf_status_thunderbird8>---</cf_status_thunderbird8>
          <cf_tracking_thunderbird9>---</cf_tracking_thunderbird9>
          <cf_status_thunderbird9>---</cf_status_thunderbird9>
          <cf_tracking_thunderbird10>---</cf_tracking_thunderbird10>
          <cf_status_thunderbird10>---</cf_status_thunderbird10>
          <cf_tracking_thunderbird11>---</cf_tracking_thunderbird11>
          <cf_status_thunderbird11>---</cf_status_thunderbird11>
          <cf_tracking_thunderbird12>---</cf_tracking_thunderbird12>
          <cf_status_thunderbird12>---</cf_status_thunderbird12>
          <cf_tracking_thunderbird13>---</cf_tracking_thunderbird13>
          <cf_status_thunderbird13>---</cf_status_thunderbird13>
          <cf_tracking_thunderbird14>---</cf_tracking_thunderbird14>
          <cf_status_thunderbird14>---</cf_status_thunderbird14>
          <cf_tracking_thunderbird15>---</cf_tracking_thunderbird15>
          <cf_status_thunderbird15>---</cf_status_thunderbird15>
          <cf_tracking_thunderbird16>---</cf_tracking_thunderbird16>
          <cf_status_thunderbird16>---</cf_status_thunderbird16>
          <cf_tracking_thunderbird17>---</cf_tracking_thunderbird17>
          <cf_status_thunderbird17>---</cf_status_thunderbird17>
          <cf_tracking_thunderbird18>---</cf_tracking_thunderbird18>
          <cf_status_thunderbird18>---</cf_status_thunderbird18>
          <cf_tracking_thunderbird19>---</cf_tracking_thunderbird19>
          <cf_status_thunderbird19>---</cf_status_thunderbird19>
          <cf_tracking_thunderbird20>---</cf_tracking_thunderbird20>
          <cf_status_thunderbird20>---</cf_status_thunderbird20>
          <cf_tracking_thunderbird21>---</cf_tracking_thunderbird21>
          <cf_status_thunderbird21>---</cf_status_thunderbird21>
          <cf_tracking_thunderbird22>---</cf_tracking_thunderbird22>
          <cf_status_thunderbird22>---</cf_status_thunderbird22>
          <cf_tracking_thunderbird23>---</cf_tracking_thunderbird23>
          <cf_status_thunderbird23>---</cf_status_thunderbird23>
          <cf_tracking_thunderbird24>---</cf_tracking_thunderbird24>
          <cf_status_thunderbird24>---</cf_status_thunderbird24>
          <cf_tracking_thunderbird25>---</cf_tracking_thunderbird25>
          <cf_status_thunderbird25>---</cf_status_thunderbird25>
          <cf_tracking_thunderbird26>---</cf_tracking_thunderbird26>
          <cf_status_thunderbird26>---</cf_status_thunderbird26>
          <cf_tracking_thunderbird27>---</cf_tracking_thunderbird27>
          <cf_status_thunderbird27>---</cf_status_thunderbird27>
          <cf_tracking_thunderbird28>---</cf_tracking_thunderbird28>
          <cf_status_thunderbird28>---</cf_status_thunderbird28>
          <cf_tracking_thunderbird29>---</cf_tracking_thunderbird29>
          <cf_status_thunderbird29>---</cf_status_thunderbird29>
          <cf_tracking_thunderbird_30>---</cf_tracking_thunderbird_30>
          <cf_status_thunderbird_30>---</cf_status_thunderbird_30>
          <cf_tracking_thunderbird_31>---</cf_tracking_thunderbird_31>
          <cf_status_thunderbird_31>---</cf_status_thunderbird_31>
          <cf_tracking_thunderbird_32>---</cf_tracking_thunderbird_32>
          <cf_status_thunderbird_32>---</cf_status_thunderbird_32>
          <cf_tracking_thunderbird_esr10>---</cf_tracking_thunderbird_esr10>
          <cf_status_thunderbird_esr10>---</cf_status_thunderbird_esr10>
          <cf_tracking_thunderbird_esr17>---</cf_tracking_thunderbird_esr17>
          <cf_status_thunderbird_esr17>---</cf_status_thunderbird_esr17>
          <cf_tracking_thunderbird_esr24>---</cf_tracking_thunderbird_esr24>
          <cf_status_thunderbird_esr24>---</cf_status_thunderbird_esr24>
          <cf_tracking_thunderbird_33>---</cf_tracking_thunderbird_33>
          <cf_status_thunderbird_33>---</cf_status_thunderbird_33>
          <cf_tracking_thunderbird_34>---</cf_tracking_thunderbird_34>
          <cf_status_thunderbird_34>---</cf_status_thunderbird_34>
          <cf_tracking_thunderbird_35>---</cf_tracking_thunderbird_35>
          <cf_status_thunderbird_35>---</cf_status_thunderbird_35>
          <cf_tracking_thunderbird_esr31>---</cf_tracking_thunderbird_esr31>
          <cf_status_thunderbird_esr31>---</cf_status_thunderbird_esr31>
          <cf_blocking_seamonkey21>---</cf_blocking_seamonkey21>
          <cf_status_seamonkey21>---</cf_status_seamonkey21>
          <cf_tracking_seamonkey22>---</cf_tracking_seamonkey22>
          <cf_status_seamonkey22>---</cf_status_seamonkey22>
          <cf_tracking_seamonkey23>---</cf_tracking_seamonkey23>
          <cf_status_seamonkey23>---</cf_status_seamonkey23>
          <cf_tracking_seamonkey24>---</cf_tracking_seamonkey24>
          <cf_status_seamonkey24>---</cf_status_seamonkey24>
          <cf_tracking_seamonkey25>---</cf_tracking_seamonkey25>
          <cf_status_seamonkey25>---</cf_status_seamonkey25>
          <cf_tracking_seamonkey26>---</cf_tracking_seamonkey26>
          <cf_status_seamonkey26>---</cf_status_seamonkey26>
          <cf_tracking_seamonkey27>---</cf_tracking_seamonkey27>
          <cf_status_seamonkey27>---</cf_status_seamonkey27>
          <cf_tracking_seamonkey28>---</cf_tracking_seamonkey28>
          <cf_status_seamonkey28>---</cf_status_seamonkey28>
          <cf_tracking_seamonkey29>---</cf_tracking_seamonkey29>
          <cf_status_seamonkey29>---</cf_status_seamonkey29>
          <cf_tracking_seamonkey210>---</cf_tracking_seamonkey210>
          <cf_status_seamonkey210>---</cf_status_seamonkey210>
          <cf_tracking_seamonkey211>---</cf_tracking_seamonkey211>
          <cf_status_seamonkey211>---</cf_status_seamonkey211>
          <cf_tracking_seamonkey212>---</cf_tracking_seamonkey212>
          <cf_status_seamonkey212>---</cf_status_seamonkey212>
          <cf_tracking_seamonkey213>---</cf_tracking_seamonkey213>
          <cf_status_seamonkey213>---</cf_status_seamonkey213>
          <cf_tracking_seamonkey214>---</cf_tracking_seamonkey214>
          <cf_status_seamonkey214>---</cf_status_seamonkey214>
          <cf_tracking_seamonkey215>---</cf_tracking_seamonkey215>
          <cf_status_seamonkey215>---</cf_status_seamonkey215>
          <cf_tracking_seamonkey216>---</cf_tracking_seamonkey216>
          <cf_status_seamonkey216>---</cf_status_seamonkey216>
          <cf_tracking_seamonkey217>---</cf_tracking_seamonkey217>
          <cf_status_seamonkey217>---</cf_status_seamonkey217>
          <cf_tracking_seamonkey218>---</cf_tracking_seamonkey218>
          <cf_status_seamonkey218>---</cf_status_seamonkey218>
          <cf_tracking_seamonkey219>---</cf_tracking_seamonkey219>
          <cf_status_seamonkey219>---</cf_status_seamonkey219>
          <cf_tracking_seamonkey220>---</cf_tracking_seamonkey220>
          <cf_status_seamonkey220>---</cf_status_seamonkey220>
          <cf_tracking_seamonkey221>---</cf_tracking_seamonkey221>
          <cf_status_seamonkey221>---</cf_status_seamonkey221>
          <cf_tracking_seamonkey222>---</cf_tracking_seamonkey222>
          <cf_status_seamonkey222>---</cf_status_seamonkey222>
          <cf_tracking_seamonkey223>---</cf_tracking_seamonkey223>
          <cf_status_seamonkey223>---</cf_status_seamonkey223>
          <cf_tracking_seamonkey224>---</cf_tracking_seamonkey224>
          <cf_status_seamonkey224>---</cf_status_seamonkey224>
          <cf_tracking_seamonkey225>---</cf_tracking_seamonkey225>
          <cf_status_seamonkey225>---</cf_status_seamonkey225>
          <cf_status_seamonkey226>---</cf_status_seamonkey226>
          <cf_tracking_seamonkey226>---</cf_tracking_seamonkey226>
          <cf_status_seamonkey227>---</cf_status_seamonkey227>
          <cf_tracking_seamonkey227>---</cf_tracking_seamonkey227>
          <cf_status_seamonkey228>---</cf_status_seamonkey228>
          <cf_tracking_seamonkey228>---</cf_tracking_seamonkey228>
          <cf_status_seamonkey229>---</cf_status_seamonkey229>
          <cf_colo_site>---</cf_colo_site>
          <cf_tracking_seamonkey229>---</cf_tracking_seamonkey229>
          <cf_status_seamonkey230>---</cf_status_seamonkey230>
          <cf_office>---</cf_office>
          <cf_tracking_seamonkey230>---</cf_tracking_seamonkey230>
          <cf_status_seamonkey231>---</cf_status_seamonkey231>
          <cf_tracking_seamonkey231>---</cf_tracking_seamonkey231>
          <cf_status_seamonkey232>---</cf_status_seamonkey232>
          <cf_tracking_seamonkey232>---</cf_tracking_seamonkey232>
          <cf_crash_signature></cf_crash_signature>
          <cf_blocking_kilimanjaro>---</cf_blocking_kilimanjaro>
          <cf_blocking_b2g>---</cf_blocking_b2g>
          <cf_blocking_basecamp>---</cf_blocking_basecamp>
          <cf_feature_b2g>---</cf_feature_b2g>
          <cf_ux_b2g>---</cf_ux_b2g>
          <cf_last_resolved>2013-11-25 05:07:11</cf_last_resolved>
          <cf_user_story></cf_user_story>
          <cf_mozilla_project>---</cf_mozilla_project>
          <cf_machine_state>---</cf_machine_state>
          <cf_qa_whiteboard></cf_qa_whiteboard>
          <cf_fx_iteration>---</cf_fx_iteration>
          <cf_fx_points>---</cf_fx_points>
          <cf_last_resolved>2013-11-25 05:07:11</cf_last_resolved>
          <votes>0</votes>
          <long_desc isprivate="0">
               <commentid>7169203</commentid>
               <who name="Henri Sivonen (:hsivonen)">hsivonen</who>
               <bug_when>2013-03-05 04:42:30 -0800</bug_when>
               <thetext>When fonts.xul populates the menu for intl.charset.default, it should perform Encoding Standard-compliant alias resolution to account for legacy Western and Thai (at least) encoding names in existing profiles.

That is, the value of the intl.charset.default pref should be subject to canonicalization using EncodingUtils::EncodingForLabel before using it to populate the menu.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8119749</commentid>
               <who name="Henri Sivonen (:hsivonen)">hsivonen</who>
               <bug_when>2013-11-25 05:07:11 -0800</bug_when>
               <thetext>Obsoleted by other changes.</thetext>
          </long_desc>
     </bug>
     <bug>
          <bug_id>1036299</bug_id>
          <creation_ts>2014-07-09 00:51:32 -0700</creation_ts>
          <short_desc>Show enhanced content image when the tile is unhovered</short_desc>
          <delta_ts>2014-09-22 09:35:03 -0700</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Client Software</classification>
          <product>Firefox</product>
          <component>New Tab Page</component>
          <version>Trunk</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>--</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>Firefox 34</target_milestone>
          <dependson>1050705</dependson>
          <dependson>1030892</dependson>
          <dependson>1036284</dependson>
          <dependson>1044067</dependson>
          <dependson>1053937</dependson>
          <dependson>1071088</dependson>
          <blocked>977787</blocked>
          <blocked>1030832</blocked>
          <blocked>1043525</blocked>
          <blocked>1042204</blocked>
          <blocked>1045760</blocked>
          <blocked>1057602</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Ed Lee :Mardak">edilee</reporter>
          <assigned_to name="Ed Lee :Mardak">edilee</assigned_to>
          <cc>adw</cc>
          <cc>alfredkayser</cc>
          <cc>athornburgh</cc>
          <cc>bezaleel360</cc>
          <cc>clarkbw</cc>
          <cc>cornel.ionce</cc>
          <cc>edilee</cc>
          <cc>jbecerra</cc>
          <cc>mmucci</cc>
          <cc>noitidart</cc>
          <cc>sledru</cc>
          <qa_contact name="Cornel Ionce [QA]">cornel.ionce</qa_contact>
          <cf_blocking_loop>---</cf_blocking_loop>
          <cf_tracking_e10s>---</cf_tracking_e10s>
          <cf_tracking_firefox5>---</cf_tracking_firefox5>
          <cf_status_firefox5>---</cf_status_firefox5>
          <cf_tracking_firefox6>---</cf_tracking_firefox6>
          <cf_status_firefox6>---</cf_status_firefox6>
          <cf_tracking_firefox7>---</cf_tracking_firefox7>
          <cf_status_firefox7>---</cf_status_firefox7>
          <cf_tracking_firefox8>---</cf_tracking_firefox8>
          <cf_status_firefox8>---</cf_status_firefox8>
          <cf_tracking_firefox9>---</cf_tracking_firefox9>
          <cf_status_firefox9>---</cf_status_firefox9>
          <cf_tracking_firefox10>---</cf_tracking_firefox10>
          <cf_status_firefox10>---</cf_status_firefox10>
          <cf_tracking_firefox11>---</cf_tracking_firefox11>
          <cf_status_firefox11>---</cf_status_firefox11>
          <cf_tracking_firefox12>---</cf_tracking_firefox12>
          <cf_status_firefox12>---</cf_status_firefox12>
          <cf_tracking_firefox13>---</cf_tracking_firefox13>
          <cf_status_firefox13>---</cf_status_firefox13>
          <cf_tracking_firefox14>---</cf_tracking_firefox14>
          <cf_status_firefox14>---</cf_status_firefox14>
          <cf_tracking_firefox15>---</cf_tracking_firefox15>
          <cf_status_firefox15>---</cf_status_firefox15>
          <cf_tracking_firefox16>---</cf_tracking_firefox16>
          <cf_status_firefox16>---</cf_status_firefox16>
          <cf_tracking_firefox17>---</cf_tracking_firefox17>
          <cf_status_firefox17>---</cf_status_firefox17>
          <cf_tracking_firefox18>---</cf_tracking_firefox18>
          <cf_status_firefox18>---</cf_status_firefox18>
          <cf_tracking_firefox19>---</cf_tracking_firefox19>
          <cf_status_firefox19>---</cf_status_firefox19>
          <cf_tracking_firefox20>---</cf_tracking_firefox20>
          <cf_status_firefox20>---</cf_status_firefox20>
          <cf_tracking_firefox21>---</cf_tracking_firefox21>
          <cf_status_firefox21>---</cf_status_firefox21>
          <cf_tracking_firefox22>---</cf_tracking_firefox22>
          <cf_status_firefox22>---</cf_status_firefox22>
          <cf_tracking_firefox23>---</cf_tracking_firefox23>
          <cf_status_firefox23>---</cf_status_firefox23>
          <cf_tracking_firefox24>---</cf_tracking_firefox24>
          <cf_status_firefox24>---</cf_status_firefox24>
          <cf_tracking_firefox25>---</cf_tracking_firefox25>
          <cf_status_firefox25>---</cf_status_firefox25>
          <cf_tracking_firefox26>---</cf_tracking_firefox26>
          <cf_status_firefox26>---</cf_status_firefox26>
          <cf_tracking_firefox27>---</cf_tracking_firefox27>
          <cf_status_firefox27>---</cf_status_firefox27>
          <cf_tracking_firefox28>---</cf_tracking_firefox28>
          <cf_status_firefox28>---</cf_status_firefox28>
          <cf_tracking_firefox29>---</cf_tracking_firefox29>
          <cf_status_firefox29>---</cf_status_firefox29>
          <cf_tracking_firefox30>---</cf_tracking_firefox30>
          <cf_status_firefox30>---</cf_status_firefox30>
          <cf_tracking_firefox31>---</cf_tracking_firefox31>
          <cf_status_firefox31>---</cf_status_firefox31>
          <cf_tracking_firefox32>---</cf_tracking_firefox32>
          <cf_status_firefox32>---</cf_status_firefox32>
          <cf_tracking_firefox33>---</cf_tracking_firefox33>
          <cf_status_firefox33>verified</cf_status_firefox33>
          <cf_tracking_firefox34>---</cf_tracking_firefox34>
          <cf_status_firefox34>verified</cf_status_firefox34>
          <cf_tracking_firefox35>---</cf_tracking_firefox35>
          <cf_status_firefox35>---</cf_status_firefox35>
          <cf_tracking_esr10>---</cf_tracking_esr10>
          <cf_status_esr10>---</cf_status_esr10>
          <cf_tracking_firefox_esr17>---</cf_tracking_firefox_esr17>
          <cf_status_firefox_esr17>---</cf_status_firefox_esr17>
          <cf_tracking_firefox_esr24>---</cf_tracking_firefox_esr24>
          <cf_status_firefox_esr24>---</cf_status_firefox_esr24>
          <cf_tracking_firefox_esr31>---</cf_tracking_firefox_esr31>
          <cf_status_firefox_esr31>---</cf_status_firefox_esr31>
          <cf_tracking_b2g18>---</cf_tracking_b2g18>
          <cf_status_b2g18>---</cf_status_b2g18>
          <cf_status_b2g30>---</cf_status_b2g30>
          <cf_status_b2g18_1_0_0>---</cf_status_b2g18_1_0_0>
          <cf_status_b2g18_1_0_1>---</cf_status_b2g18_1_0_1>
          <cf_status_b2g_1_1_hd>---</cf_status_b2g_1_1_hd>
          <cf_tracking_b2g_v1_2>---</cf_tracking_b2g_v1_2>
          <cf_status_b2g_1_2>---</cf_status_b2g_1_2>
          <cf_tracking_b2g_v1_3>---</cf_tracking_b2g_v1_3>
          <cf_status_b2g_1_3>---</cf_status_b2g_1_3>
          <cf_status_b2g_1_3t>---</cf_status_b2g_1_3t>
          <cf_blocking_20>---</cf_blocking_20>
          <cf_status_20>---</cf_status_20>
          <cf_status_b2g_1_4>---</cf_status_b2g_1_4>
          <cf_status_b2g_2_0>---</cf_status_b2g_2_0>
          <cf_status_b2g_2_0m>---</cf_status_b2g_2_0m>
          <cf_status_b2g_2_1>---</cf_status_b2g_2_1>
          <cf_status_b2g_2_2>---</cf_status_b2g_2_2>
          <cf_blocking_192>---</cf_blocking_192>
          <cf_blocking_fx>---</cf_blocking_fx>
          <cf_tracking_firefox_relnote>---</cf_tracking_firefox_relnote>
          <cf_status_192>---</cf_status_192>
          <cf_tracking_relnote_b2g>---</cf_tracking_relnote_b2g>
          <cf_blocking_191>---</cf_blocking_191>
          <cf_status_191>---</cf_status_191>
          <cf_blocking_fennec10>---</cf_blocking_fennec10>
          <cf_blocking_fennec>---</cf_blocking_fennec>
          <cf_blocking_thunderbird33>---</cf_blocking_thunderbird33>
          <cf_status_thunderbird33>---</cf_status_thunderbird33>
          <cf_blocking_thunderbird32>---</cf_blocking_thunderbird32>
          <cf_status_thunderbird32>---</cf_status_thunderbird32>
          <cf_blocking_thunderbird31>---</cf_blocking_thunderbird31>
          <cf_status_thunderbird31>---</cf_status_thunderbird31>
          <cf_blocking_thunderbird30>---</cf_blocking_thunderbird30>
          <cf_status_thunderbird30>---</cf_status_thunderbird30>
          <cf_tracking_thunderbird6>---</cf_tracking_thunderbird6>
          <cf_status_thunderbird6>---</cf_status_thunderbird6>
          <cf_tracking_thunderbird7>---</cf_tracking_thunderbird7>
          <cf_status_thunderbird7>---</cf_status_thunderbird7>
          <cf_tracking_thunderbird8>---</cf_tracking_thunderbird8>
          <cf_status_thunderbird8>---</cf_status_thunderbird8>
          <cf_tracking_thunderbird9>---</cf_tracking_thunderbird9>
          <cf_status_thunderbird9>---</cf_status_thunderbird9>
          <cf_tracking_thunderbird10>---</cf_tracking_thunderbird10>
          <cf_status_thunderbird10>---</cf_status_thunderbird10>
          <cf_tracking_thunderbird11>---</cf_tracking_thunderbird11>
          <cf_status_thunderbird11>---</cf_status_thunderbird11>
          <cf_tracking_thunderbird12>---</cf_tracking_thunderbird12>
          <cf_status_thunderbird12>---</cf_status_thunderbird12>
          <cf_tracking_thunderbird13>---</cf_tracking_thunderbird13>
          <cf_status_thunderbird13>---</cf_status_thunderbird13>
          <cf_tracking_thunderbird14>---</cf_tracking_thunderbird14>
          <cf_status_thunderbird14>---</cf_status_thunderbird14>
          <cf_tracking_thunderbird15>---</cf_tracking_thunderbird15>
          <cf_status_thunderbird15>---</cf_status_thunderbird15>
          <cf_tracking_thunderbird16>---</cf_tracking_thunderbird16>
          <cf_status_thunderbird16>---</cf_status_thunderbird16>
          <cf_tracking_thunderbird17>---</cf_tracking_thunderbird17>
          <cf_status_thunderbird17>---</cf_status_thunderbird17>
          <cf_tracking_thunderbird18>---</cf_tracking_thunderbird18>
          <cf_status_thunderbird18>---</cf_status_thunderbird18>
          <cf_tracking_thunderbird19>---</cf_tracking_thunderbird19>
          <cf_status_thunderbird19>---</cf_status_thunderbird19>
          <cf_tracking_thunderbird20>---</cf_tracking_thunderbird20>
          <cf_status_thunderbird20>---</cf_status_thunderbird20>
          <cf_tracking_thunderbird21>---</cf_tracking_thunderbird21>
          <cf_status_thunderbird21>---</cf_status_thunderbird21>
          <cf_tracking_thunderbird22>---</cf_tracking_thunderbird22>
          <cf_status_thunderbird22>---</cf_status_thunderbird22>
          <cf_tracking_thunderbird23>---</cf_tracking_thunderbird23>
          <cf_status_thunderbird23>---</cf_status_thunderbird23>
          <cf_tracking_thunderbird24>---</cf_tracking_thunderbird24>
          <cf_status_thunderbird24>---</cf_status_thunderbird24>
          <cf_tracking_thunderbird25>---</cf_tracking_thunderbird25>
          <cf_status_thunderbird25>---</cf_status_thunderbird25>
          <cf_tracking_thunderbird26>---</cf_tracking_thunderbird26>
          <cf_status_thunderbird26>---</cf_status_thunderbird26>
          <cf_tracking_thunderbird27>---</cf_tracking_thunderbird27>
          <cf_status_thunderbird27>---</cf_status_thunderbird27>
          <cf_tracking_thunderbird28>---</cf_tracking_thunderbird28>
          <cf_status_thunderbird28>---</cf_status_thunderbird28>
          <cf_tracking_thunderbird29>---</cf_tracking_thunderbird29>
          <cf_status_thunderbird29>---</cf_status_thunderbird29>
          <cf_tracking_thunderbird_30>---</cf_tracking_thunderbird_30>
          <cf_status_thunderbird_30>---</cf_status_thunderbird_30>
          <cf_tracking_thunderbird_31>---</cf_tracking_thunderbird_31>
          <cf_status_thunderbird_31>---</cf_status_thunderbird_31>
          <cf_tracking_thunderbird_32>---</cf_tracking_thunderbird_32>
          <cf_status_thunderbird_32>---</cf_status_thunderbird_32>
          <cf_tracking_thunderbird_esr10>---</cf_tracking_thunderbird_esr10>
          <cf_status_thunderbird_esr10>---</cf_status_thunderbird_esr10>
          <cf_tracking_thunderbird_esr17>---</cf_tracking_thunderbird_esr17>
          <cf_status_thunderbird_esr17>---</cf_status_thunderbird_esr17>
          <cf_tracking_thunderbird_esr24>---</cf_tracking_thunderbird_esr24>
          <cf_status_thunderbird_esr24>---</cf_status_thunderbird_esr24>
          <cf_tracking_thunderbird_33>---</cf_tracking_thunderbird_33>
          <cf_status_thunderbird_33>---</cf_status_thunderbird_33>
          <cf_tracking_thunderbird_34>---</cf_tracking_thunderbird_34>
          <cf_status_thunderbird_34>---</cf_status_thunderbird_34>
          <cf_tracking_thunderbird_35>---</cf_tracking_thunderbird_35>
          <cf_status_thunderbird_35>---</cf_status_thunderbird_35>
          <cf_tracking_thunderbird_esr31>---</cf_tracking_thunderbird_esr31>
          <cf_status_thunderbird_esr31>---</cf_status_thunderbird_esr31>
          <cf_blocking_seamonkey21>---</cf_blocking_seamonkey21>
          <cf_status_seamonkey21>---</cf_status_seamonkey21>
          <cf_tracking_seamonkey22>---</cf_tracking_seamonkey22>
          <cf_status_seamonkey22>---</cf_status_seamonkey22>
          <cf_tracking_seamonkey23>---</cf_tracking_seamonkey23>
          <cf_status_seamonkey23>---</cf_status_seamonkey23>
          <cf_tracking_seamonkey24>---</cf_tracking_seamonkey24>
          <cf_status_seamonkey24>---</cf_status_seamonkey24>
          <cf_tracking_seamonkey25>---</cf_tracking_seamonkey25>
          <cf_status_seamonkey25>---</cf_status_seamonkey25>
          <cf_tracking_seamonkey26>---</cf_tracking_seamonkey26>
          <cf_status_seamonkey26>---</cf_status_seamonkey26>
          <cf_tracking_seamonkey27>---</cf_tracking_seamonkey27>
          <cf_status_seamonkey27>---</cf_status_seamonkey27>
          <cf_tracking_seamonkey28>---</cf_tracking_seamonkey28>
          <cf_status_seamonkey28>---</cf_status_seamonkey28>
          <cf_tracking_seamonkey29>---</cf_tracking_seamonkey29>
          <cf_status_seamonkey29>---</cf_status_seamonkey29>
          <cf_tracking_seamonkey210>---</cf_tracking_seamonkey210>
          <cf_status_seamonkey210>---</cf_status_seamonkey210>
          <cf_tracking_seamonkey211>---</cf_tracking_seamonkey211>
          <cf_status_seamonkey211>---</cf_status_seamonkey211>
          <cf_tracking_seamonkey212>---</cf_tracking_seamonkey212>
          <cf_status_seamonkey212>---</cf_status_seamonkey212>
          <cf_tracking_seamonkey213>---</cf_tracking_seamonkey213>
          <cf_status_seamonkey213>---</cf_status_seamonkey213>
          <cf_tracking_seamonkey214>---</cf_tracking_seamonkey214>
          <cf_status_seamonkey214>---</cf_status_seamonkey214>
          <cf_tracking_seamonkey215>---</cf_tracking_seamonkey215>
          <cf_status_seamonkey215>---</cf_status_seamonkey215>
          <cf_tracking_seamonkey216>---</cf_tracking_seamonkey216>
          <cf_status_seamonkey216>---</cf_status_seamonkey216>
          <cf_tracking_seamonkey217>---</cf_tracking_seamonkey217>
          <cf_status_seamonkey217>---</cf_status_seamonkey217>
          <cf_tracking_seamonkey218>---</cf_tracking_seamonkey218>
          <cf_status_seamonkey218>---</cf_status_seamonkey218>
          <cf_tracking_seamonkey219>---</cf_tracking_seamonkey219>
          <cf_status_seamonkey219>---</cf_status_seamonkey219>
          <cf_tracking_seamonkey220>---</cf_tracking_seamonkey220>
          <cf_status_seamonkey220>---</cf_status_seamonkey220>
          <cf_tracking_seamonkey221>---</cf_tracking_seamonkey221>
          <cf_status_seamonkey221>---</cf_status_seamonkey221>
          <cf_tracking_seamonkey222>---</cf_tracking_seamonkey222>
          <cf_status_seamonkey222>---</cf_status_seamonkey222>
          <cf_tracking_seamonkey223>---</cf_tracking_seamonkey223>
          <cf_status_seamonkey223>---</cf_status_seamonkey223>
          <cf_tracking_seamonkey224>---</cf_tracking_seamonkey224>
          <cf_status_seamonkey224>---</cf_status_seamonkey224>
          <cf_tracking_seamonkey225>---</cf_tracking_seamonkey225>
          <cf_status_seamonkey225>---</cf_status_seamonkey225>
          <cf_status_seamonkey226>---</cf_status_seamonkey226>
          <cf_tracking_seamonkey226>---</cf_tracking_seamonkey226>
          <cf_status_seamonkey227>---</cf_status_seamonkey227>
          <cf_tracking_seamonkey227>---</cf_tracking_seamonkey227>
          <cf_status_seamonkey228>---</cf_status_seamonkey228>
          <cf_tracking_seamonkey228>---</cf_tracking_seamonkey228>
          <cf_status_seamonkey229>---</cf_status_seamonkey229>
          <cf_colo_site>---</cf_colo_site>
          <cf_tracking_seamonkey229>---</cf_tracking_seamonkey229>
          <cf_status_seamonkey230>---</cf_status_seamonkey230>
          <cf_office>---</cf_office>
          <cf_tracking_seamonkey230>---</cf_tracking_seamonkey230>
          <cf_status_seamonkey231>---</cf_status_seamonkey231>
          <cf_tracking_seamonkey231>---</cf_tracking_seamonkey231>
          <cf_status_seamonkey232>---</cf_status_seamonkey232>
          <cf_tracking_seamonkey232>---</cf_tracking_seamonkey232>
          <cf_crash_signature></cf_crash_signature>
          <cf_blocking_kilimanjaro>---</cf_blocking_kilimanjaro>
          <cf_blocking_b2g>---</cf_blocking_b2g>
          <cf_blocking_basecamp>---</cf_blocking_basecamp>
          <cf_feature_b2g>---</cf_feature_b2g>
          <cf_ux_b2g>---</cf_ux_b2g>
          <cf_last_resolved>2014-07-24 06:36:23</cf_last_resolved>
          <cf_user_story></cf_user_story>
          <cf_mozilla_project>---</cf_mozilla_project>
          <cf_machine_state>---</cf_machine_state>
          <cf_qa_whiteboard>[qa!]</cf_qa_whiteboard>
          <cf_fx_iteration>34.1</cf_fx_iteration>
          <cf_fx_points>3</cf_fx_points>
          <cf_last_resolved>2014-07-24 06:36:23</cf_last_resolved>
          <votes>0</votes>
          <flag name="firefox-backlog"
          id="920696"
          type_id="846"
          status="+"
          setter="edilee"
    />
          <long_desc isprivate="0">
               <commentid>9031198</commentid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-09 00:51:32 -0700</bug_when>
               <thetext>For directory tiles with enhanced (unhovered) content, show that image and switch to the regular image when hovered.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9031201</commentid>
               <attachid>8452929</attachid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-09 00:53:33 -0700</bug_when>
               <thetext>Created attachment 8452929
v1</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9031203</commentid>
               <attachid>8452930</attachid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-09 00:54:15 -0700</bug_when>
               <thetext>Created attachment 8452930
v1 screenshot

Screenshot with a sample engadget enhanced sponsored tile (with all the other directory tiles removed).</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9033591</commentid>
               <attachid>8453191</attachid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-09 10:45:15 -0700</bug_when>
               <thetext>Created attachment 8453191
v1.1

Added an enhanced content for one of the directory tiles. (webmaker)
Also updated to latest m-c so including bug 1031942.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9034145</commentid>
               <attachid>8453249</attachid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-09 12:26:02 -0700</bug_when>
               <thetext>Created attachment 8453249
v1.1 screenshot

https://ftp.mozilla.org/pub/mozilla.org/firefox/try-builds/edilee@gmail.com-689ef8f6dd25/try-macosx64/firefox-33.0a1.en-US.mac.dmg</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9035527</commentid>
               <attachid>8453456</attachid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-09 17:07:20 -0700</bug_when>
               <thetext>Created attachment 8453456
v2

Was going to do the enhanced history replacement in a separate patch and leave this bug for showing just enhanced directory, but it was just as simple to do both.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9035529</commentid>
               <attachid>8453458</attachid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-09 17:08:01 -0700</bug_when>
               <thetext>Created attachment 8453458
v2 screenshot (unhovered)</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9035535</commentid>
               <attachid>8453459</attachid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-09 17:09:44 -0700</bug_when>
               <thetext>Created attachment 8453459
v2 screenshot (hovered)</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9039535</commentid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-10 12:11:44 -0700</bug_when>
               <thetext>clarkbw says the non-enhanced logo should replace the thumbnail as well.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9050679</commentid>
               <attachid>8455440</attachid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-14 10:26:10 -0700</bug_when>
               <thetext>Created attachment 8455440
v3

Save an enhanced link instead of just the enhanced image so we can replace both the unhovered and hovered images with data from the enhanced link.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9057476</commentid>
               <attachid>8455440</attachid>
               <who name="Drew Willcoxon :adw (Away 9/29–10/14)">adw</who>
               <bug_when>2014-07-15 13:06:24 -0700</bug_when>
               <thetext>Comment on attachment 8455440
v3

Review of attachment 8455440:
-----------------------------------------------------------------

Sorry for the delay.

This looks good, but it could probably use a newtab test that tests hovering.

I wonder how much performance will be impacted by drawing two images per enhanced tile.  If it becomes a problem, we could probably switch background-images on hover on the normal .newtab-thumbnail instead of having a separate .enhanced-content and hiding it.  It could maybe even be done entirely in CSS using attr(), but that would require storing these giant image strings as DOM attributes, which seems not great -- but turning those strings into ArrayBuffers and using blob URIs would fix that.

::: browser/base/content/newtab/sites.js
@@ +164,3 @@
&gt;      thumbnail.style.backgroundImage = &apos;url(&quot;&apos; + uri + &apos;&quot;)&apos;;
&gt; +
&gt; +    if (link.enhancedImageURI) {

Is it possible for this to go the other way: DirectoryLinksProvider.getEnhancedLink() returns undefined for this link when previously it had returned a link with enhancedImageURI?  Seems like it is.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9058004</commentid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-15 14:52:50 -0700</bug_when>
               <thetext>(In reply to Drew Willcoxon :adw from comment #10)
&gt; This looks good, but it could probably use a newtab test that tests hovering.
What would this check for in the test? Right now it&apos;s just css fading out the unhovered image on hover.

&gt; we could probably switch background-images on hover on the normal .newtab-thumbnail
That could be interesting with your attr() idea, and the image URIs will probably switch to urls down the line, so it won&apos;t be huge strings.

The current implementation does allow for the opacity fading transition as well as making sure the image is already loaded.

&gt; ::: browser/base/content/newtab/sites.js
&gt; &gt; +    if (link.enhancedImageURI) {
&gt; Is it possible for this to go the other way:
&gt; DirectoryLinksProvider.getEnhancedLink() returns undefined for this link
&gt; when previously it had returned a link with enhancedImageURI?  Seems like it
&gt; is.
When getEnhancedLinks() returns undefined, the caller (refreshThumbnail) then defaults to the current link, which would not have an enhancedImageURI.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9058088</commentid>
               <who name="Drew Willcoxon :adw (Away 9/29–10/14)">adw</who>
               <bug_when>2014-07-15 15:13:10 -0700</bug_when>
               <thetext>(In reply to Ed Lee :Mardak from comment #11)
&gt; What would this check for in the test? Right now it&apos;s just css fading out
&gt; the unhovered image on hover.

Well, the feature is that when you hover over a tile, the image changes.  Seems like that deserves a test, no matter how it&apos;s implemented.  But, nevermind, let&apos;s forget I said it.

&gt; When getEnhancedLinks() returns undefined, the caller (refreshThumbnail)
&gt; then defaults to the current link, which would not have an enhancedImageURI.

I get that part, but in that case, the node will keep its type=&quot;enhanced&quot; attribute, and .enhanced-content will keep its background image, which is wrong, no?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9058178</commentid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-15 15:40:48 -0700</bug_when>
               <thetext>(In reply to Drew Willcoxon :adw from comment #12)
&gt; &gt; When getEnhancedLinks() returns undefined, the caller (refreshThumbnail)
&gt; &gt; then defaults to the current link, which would not have an enhancedImageURI.
&gt; I get that part, but in that case, the node will keep its type=&quot;enhanced&quot;
&gt; attribute, and .enhanced-content will keep its background image, which is
&gt; wrong, no?
Ahhh. I see what you&apos;re getting at. For a cell that was previously enhanced but now used for something that is not enhanced. It looks like this doesn&apos;t happen as new sites are created when necessary. Is there a case you&apos;re thinking of where an existing site node is reused?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9058239</commentid>
               <who name="Drew Willcoxon :adw (Away 9/29–10/14)">adw</who>
               <bug_when>2014-07-15 15:56:11 -0700</bug_when>
               <thetext>Sorry, I should have stated it plainly.  Directory links are periodically refreshed in the background, right?  So if a link has an enhanced image at one point, and it appears in a particular newtab page, and then links are refreshed and that link no longer has an enhanced image but its tile still appears on that same newtab page...

... but existing newtab pages are not updated when new directory links are fetched, so I was imagining a case that doesn&apos;t exist.  Nevermind, again.  :-) :-/</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9058274</commentid>
               <who name="Drew Willcoxon :adw (Away 9/29–10/14)">adw</who>
               <bug_when>2014-07-15 16:06:18 -0700</bug_when>
               <thetext>Er, the page is updated because DirectoryLinksProvider notifies onManyLinksChanged, but nodes are not reused, so, yes, nevermind.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9095624</commentid>
               <who name="Carsten Book [:Tomcat]">cbook</who>
               <bug_when>2014-07-24 06:36:23 -0700</bug_when>
               <thetext>https://hg.mozilla.org/mozilla-central/rev/a66707ee8f36</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9096756</commentid>
               <who name="Alfred Kayser">alfredkayser</who>
               <bug_when>2014-07-24 10:07:54 -0700</bug_when>
               <thetext>A small optimization in the .css would be to replace:
.newtab-site[type=affiliate] .newtab-thumbnail,
.newtab-site[type=organic] .newtab-thumbnail,
.newtab-site[type=sponsored] .newtab-thumbnail,
.newtab-site[type=enhanced] .newtab-thumbnail{
    background-position: center;
with:
.newtab-site:-moz-any([type=affiliate],[type=organic],[type=sponsored],[type=enhanced]) .newtab-thumbnail {
    background-position: center center;</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9101398</commentid>
               <who name="Cornel Ionce [QA]">cornel.ionce</who>
               <bug_when>2014-07-25 07:07:05 -0700</bug_when>
               <thetext>Mozilla/5.0 (Windows NT 6.1; WOW64; rv:34.0) Gecko/20100101 Firefox/34.0
Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:34.0) Gecko/20100101 Firefox/34.0
Mozilla/5.0 (X11; Linux i686; rv:34.0) Gecko/20100101 Firefox/34.0

Verified on latest Nightly, Build ID: 20140725030202.
The directory tiles content changes accordingly (hovered/unhovered state).

The only thing I would like to mention is that &quot;Get to know Mozilla - Mozilla&quot; tile is not displayed. Tried with a clean profile and deleted tiles until the last one became empty but &quot;Get to know Mozilla - Mozilla&quot; was not displayed.
Any thoughts?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9101556</commentid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-07-25 07:40:22 -0700</bug_when>
               <thetext>(In reply to Cornel Ionce [QA] from comment #18)
&gt; The only thing I would like to mention is that &quot;Get to know Mozilla -
&gt; Mozilla&quot; tile is not displayed.
Ah, sorry for the confusion! That tile is actually a history tile not a directory tile. I got that by typing &quot;m&quot; in the location bar and selecting the first result (which is the bookmark to the about page).</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9107327</commentid>
               <who name="Cornel Ionce [QA]">cornel.ionce</who>
               <bug_when>2014-07-28 02:29:40 -0700</bug_when>
               <thetext>(In reply to Ed Lee :Mardak from comment #19)
&gt; Ah, sorry for the confusion! That tile is actually a history tile not a
&gt; directory tile. I got that by typing &quot;m&quot; in the location bar and selecting
&gt; the first result (which is the bookmark to the about page).

Thank you!
In this case I&apos;ll mark this issue verified.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9221632</commentid>
               <who name="Sylvestre Ledru [:sylvestre]">sledru</who>
               <bug_when>2014-08-23 13:07:56 -0700</bug_when>
               <thetext>Uplift has been managed in bug 1057602</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9234639</commentid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-08-27 00:01:41 -0700</bug_when>
               <thetext>https://hg.mozilla.org/releases/mozilla-aurora/rev/35f5ce3cfaaa</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9247316</commentid>
               <who name="Cornel Ionce [QA]">cornel.ionce</who>
               <bug_when>2014-08-29 06:29:48 -0700</bug_when>
               <thetext>Verified on nightly based on comment 20.

Tested with latest Aurora, build ID: 20140828004002 on Windows 7 64bit, Mac OS X 10.8.5 and Ubuntu 14.04 32bit and everything looks good.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9278957</commentid>
               <who name="">noitidart</who>
               <bug_when>2014-09-06 00:39:36 -0700</bug_when>
               <thetext>I only have 6 pinned tabs. The other 3 from my history are always junk. I would like to set theese 3 to be enhanced tiles, is that posible?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9280282</commentid>
               <who name="">noitidart</who>
               <bug_when>2014-09-07 11:32:35 -0700</bug_when>
               <thetext>Also the new looking new tab page tabs/containers in FF33 are very kid looking, the old way was more profesional looking.</thetext>
          </long_desc>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
               <attachid>8452929</attachid>
               <date>2014-07-09 00:53:33 -0700</date>
               <delta_ts>2014-07-09 10:45:15 -0700</delta_ts>
               <desc>v1</desc>
               <filename>bug1036299.patch</filename>
               <type>text/plain</type>
               <size>2887</size>
               <attacher>edilee</attacher>
          </attachment>
          <attachment
              isobsolete="1"
              ispatch="0"
              isprivate="0"
          >
               <attachid>8452930</attachid>
               <date>2014-07-09 00:54:15 -0700</date>
               <delta_ts>2014-07-09 12:26:02 -0700</delta_ts>
               <desc>v1 screenshot</desc>
               <filename>Screen Shot 2014-07-09 at 12.48.13 AM.png</filename>
               <type>image/png</type>
               <size>228351</size>
               <attacher>edilee</attacher>
          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
               <attachid>8453191</attachid>
               <date>2014-07-09 10:45:15 -0700</date>
               <delta_ts>2014-07-09 17:07:20 -0700</delta_ts>
               <desc>v1.1</desc>
               <filename>bug1036299.patch</filename>
               <type>text/plain</type>
               <size>36458</size>
               <attacher>edilee</attacher>
          </attachment>
          <attachment
              isobsolete="1"
              ispatch="0"
              isprivate="0"
          >
               <attachid>8453249</attachid>
               <date>2014-07-09 12:26:02 -0700</date>
               <delta_ts>2014-07-09 17:08:01 -0700</delta_ts>
               <desc>v1.1 screenshot</desc>
               <filename>Screen Shot 2014-07-09 at 12.25.28 PM.png</filename>
               <type>image/png</type>
               <size>334693</size>
               <attacher>edilee</attacher>
          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
               <attachid>8453456</attachid>
               <date>2014-07-09 17:07:20 -0700</date>
               <delta_ts>2014-07-14 10:26:10 -0700</delta_ts>
               <desc>v2</desc>
               <filename>bug1036299.patch</filename>
               <type>text/plain</type>
               <size>202600</size>
               <attacher>edilee</attacher>
          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
               <attachid>8453458</attachid>
               <date>2014-07-09 17:08:01 -0700</date>
               <delta_ts>2014-07-09 17:08:01 -0700</delta_ts>
               <desc>v2 screenshot (unhovered)</desc>
               <filename>Screen Shot 2014-07-09 at 4.58.49 PM.png</filename>
               <type>image/png</type>
               <size>390896</size>
               <attacher>edilee</attacher>
          </attachment>
          <attachment
              isobsolete="0"
              ispatch="0"
              isprivate="0"
          >
               <attachid>8453459</attachid>
               <date>2014-07-09 17:09:44 -0700</date>
               <delta_ts>2014-07-09 17:09:44 -0700</delta_ts>
               <desc>v2 screenshot (hovered)</desc>
               <filename>Screen Shot 2014-07-09 at 4.59.36 PM.png</filename>
               <type>image/png</type>
               <size>409829</size>
               <attacher>edilee</attacher>
          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
               <attachid>8455440</attachid>
               <date>2014-07-14 10:26:10 -0700</date>
               <delta_ts>2014-07-15 13:06:24 -0700</delta_ts>
               <desc>v3</desc>
               <filename>bug1036299.patch</filename>
               <type>text/plain</type>
               <size>203168</size>
               <attacher>edilee</attacher>
               <flag name="review"
          id="924838"
          type_id="748"
          status="+"
          setter="adw"
    />
          </attachment>
     </bug>
     <bug>
          <bug_id>1007627</bug_id>
          <creation_ts>2014-05-08 05:32:18 -0700</creation_ts>
          <short_desc>Update pdf.js to version 1.0.162</short_desc>
          <delta_ts>2014-09-24 05:26:47 -0700</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Client Software</classification>
          <product>Firefox</product>
          <component>PDF Viewer</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>--</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>Firefox 32</target_milestone>
          <dependson>1072164</dependson>
          <dependson>1008450</dependson>
          <dependson>1020226</dependson>
          <blocked>999616</blocked>
          <blocked>1000777</blocked>
          <blocked>1006714</blocked>
          <blocked>1007117</blocked>
          <blocked>1016308</blocked>
          <blocked>1026488</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</reporter>
          <assigned_to name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</assigned_to>
          <cc>BernesB</cc>
          <cc>dtownsend+bugmail</cc>
          <cc>ydelendik</cc>
          <cf_blocking_loop>---</cf_blocking_loop>
          <cf_tracking_e10s>---</cf_tracking_e10s>
          <cf_tracking_firefox5>---</cf_tracking_firefox5>
          <cf_status_firefox5>---</cf_status_firefox5>
          <cf_tracking_firefox6>---</cf_tracking_firefox6>
          <cf_status_firefox6>---</cf_status_firefox6>
          <cf_tracking_firefox7>---</cf_tracking_firefox7>
          <cf_status_firefox7>---</cf_status_firefox7>
          <cf_tracking_firefox8>---</cf_tracking_firefox8>
          <cf_status_firefox8>---</cf_status_firefox8>
          <cf_tracking_firefox9>---</cf_tracking_firefox9>
          <cf_status_firefox9>---</cf_status_firefox9>
          <cf_tracking_firefox10>---</cf_tracking_firefox10>
          <cf_status_firefox10>---</cf_status_firefox10>
          <cf_tracking_firefox11>---</cf_tracking_firefox11>
          <cf_status_firefox11>---</cf_status_firefox11>
          <cf_tracking_firefox12>---</cf_tracking_firefox12>
          <cf_status_firefox12>---</cf_status_firefox12>
          <cf_tracking_firefox13>---</cf_tracking_firefox13>
          <cf_status_firefox13>---</cf_status_firefox13>
          <cf_tracking_firefox14>---</cf_tracking_firefox14>
          <cf_status_firefox14>---</cf_status_firefox14>
          <cf_tracking_firefox15>---</cf_tracking_firefox15>
          <cf_status_firefox15>---</cf_status_firefox15>
          <cf_tracking_firefox16>---</cf_tracking_firefox16>
          <cf_status_firefox16>---</cf_status_firefox16>
          <cf_tracking_firefox17>---</cf_tracking_firefox17>
          <cf_status_firefox17>---</cf_status_firefox17>
          <cf_tracking_firefox18>---</cf_tracking_firefox18>
          <cf_status_firefox18>---</cf_status_firefox18>
          <cf_tracking_firefox19>---</cf_tracking_firefox19>
          <cf_status_firefox19>---</cf_status_firefox19>
          <cf_tracking_firefox20>---</cf_tracking_firefox20>
          <cf_status_firefox20>---</cf_status_firefox20>
          <cf_tracking_firefox21>---</cf_tracking_firefox21>
          <cf_status_firefox21>---</cf_status_firefox21>
          <cf_tracking_firefox22>---</cf_tracking_firefox22>
          <cf_status_firefox22>---</cf_status_firefox22>
          <cf_tracking_firefox23>---</cf_tracking_firefox23>
          <cf_status_firefox23>---</cf_status_firefox23>
          <cf_tracking_firefox24>---</cf_tracking_firefox24>
          <cf_status_firefox24>---</cf_status_firefox24>
          <cf_tracking_firefox25>---</cf_tracking_firefox25>
          <cf_status_firefox25>---</cf_status_firefox25>
          <cf_tracking_firefox26>---</cf_tracking_firefox26>
          <cf_status_firefox26>---</cf_status_firefox26>
          <cf_tracking_firefox27>---</cf_tracking_firefox27>
          <cf_status_firefox27>---</cf_status_firefox27>
          <cf_tracking_firefox28>---</cf_tracking_firefox28>
          <cf_status_firefox28>---</cf_status_firefox28>
          <cf_tracking_firefox29>---</cf_tracking_firefox29>
          <cf_status_firefox29>---</cf_status_firefox29>
          <cf_tracking_firefox30>---</cf_tracking_firefox30>
          <cf_status_firefox30>---</cf_status_firefox30>
          <cf_tracking_firefox31>---</cf_tracking_firefox31>
          <cf_status_firefox31>---</cf_status_firefox31>
          <cf_tracking_firefox32>---</cf_tracking_firefox32>
          <cf_status_firefox32>---</cf_status_firefox32>
          <cf_tracking_firefox33>---</cf_tracking_firefox33>
          <cf_status_firefox33>---</cf_status_firefox33>
          <cf_tracking_firefox34>---</cf_tracking_firefox34>
          <cf_status_firefox34>---</cf_status_firefox34>
          <cf_tracking_firefox35>---</cf_tracking_firefox35>
          <cf_status_firefox35>---</cf_status_firefox35>
          <cf_tracking_esr10>---</cf_tracking_esr10>
          <cf_status_esr10>---</cf_status_esr10>
          <cf_tracking_firefox_esr17>---</cf_tracking_firefox_esr17>
          <cf_status_firefox_esr17>---</cf_status_firefox_esr17>
          <cf_tracking_firefox_esr24>---</cf_tracking_firefox_esr24>
          <cf_status_firefox_esr24>---</cf_status_firefox_esr24>
          <cf_tracking_firefox_esr31>---</cf_tracking_firefox_esr31>
          <cf_status_firefox_esr31>---</cf_status_firefox_esr31>
          <cf_tracking_b2g18>---</cf_tracking_b2g18>
          <cf_status_b2g18>---</cf_status_b2g18>
          <cf_status_b2g30>---</cf_status_b2g30>
          <cf_status_b2g18_1_0_0>---</cf_status_b2g18_1_0_0>
          <cf_status_b2g18_1_0_1>---</cf_status_b2g18_1_0_1>
          <cf_status_b2g_1_1_hd>---</cf_status_b2g_1_1_hd>
          <cf_tracking_b2g_v1_2>---</cf_tracking_b2g_v1_2>
          <cf_status_b2g_1_2>---</cf_status_b2g_1_2>
          <cf_tracking_b2g_v1_3>---</cf_tracking_b2g_v1_3>
          <cf_status_b2g_1_3>---</cf_status_b2g_1_3>
          <cf_status_b2g_1_3t>---</cf_status_b2g_1_3t>
          <cf_blocking_20>---</cf_blocking_20>
          <cf_status_20>---</cf_status_20>
          <cf_status_b2g_1_4>---</cf_status_b2g_1_4>
          <cf_status_b2g_2_0>---</cf_status_b2g_2_0>
          <cf_status_b2g_2_0m>---</cf_status_b2g_2_0m>
          <cf_status_b2g_2_1>---</cf_status_b2g_2_1>
          <cf_status_b2g_2_2>---</cf_status_b2g_2_2>
          <cf_blocking_192>---</cf_blocking_192>
          <cf_blocking_fx>---</cf_blocking_fx>
          <cf_tracking_firefox_relnote>---</cf_tracking_firefox_relnote>
          <cf_status_192>---</cf_status_192>
          <cf_tracking_relnote_b2g>---</cf_tracking_relnote_b2g>
          <cf_blocking_191>---</cf_blocking_191>
          <cf_status_191>---</cf_status_191>
          <cf_blocking_fennec10>---</cf_blocking_fennec10>
          <cf_blocking_fennec>---</cf_blocking_fennec>
          <cf_blocking_thunderbird33>---</cf_blocking_thunderbird33>
          <cf_status_thunderbird33>---</cf_status_thunderbird33>
          <cf_blocking_thunderbird32>---</cf_blocking_thunderbird32>
          <cf_status_thunderbird32>---</cf_status_thunderbird32>
          <cf_blocking_thunderbird31>---</cf_blocking_thunderbird31>
          <cf_status_thunderbird31>---</cf_status_thunderbird31>
          <cf_blocking_thunderbird30>---</cf_blocking_thunderbird30>
          <cf_status_thunderbird30>---</cf_status_thunderbird30>
          <cf_tracking_thunderbird6>---</cf_tracking_thunderbird6>
          <cf_status_thunderbird6>---</cf_status_thunderbird6>
          <cf_tracking_thunderbird7>---</cf_tracking_thunderbird7>
          <cf_status_thunderbird7>---</cf_status_thunderbird7>
          <cf_tracking_thunderbird8>---</cf_tracking_thunderbird8>
          <cf_status_thunderbird8>---</cf_status_thunderbird8>
          <cf_tracking_thunderbird9>---</cf_tracking_thunderbird9>
          <cf_status_thunderbird9>---</cf_status_thunderbird9>
          <cf_tracking_thunderbird10>---</cf_tracking_thunderbird10>
          <cf_status_thunderbird10>---</cf_status_thunderbird10>
          <cf_tracking_thunderbird11>---</cf_tracking_thunderbird11>
          <cf_status_thunderbird11>---</cf_status_thunderbird11>
          <cf_tracking_thunderbird12>---</cf_tracking_thunderbird12>
          <cf_status_thunderbird12>---</cf_status_thunderbird12>
          <cf_tracking_thunderbird13>---</cf_tracking_thunderbird13>
          <cf_status_thunderbird13>---</cf_status_thunderbird13>
          <cf_tracking_thunderbird14>---</cf_tracking_thunderbird14>
          <cf_status_thunderbird14>---</cf_status_thunderbird14>
          <cf_tracking_thunderbird15>---</cf_tracking_thunderbird15>
          <cf_status_thunderbird15>---</cf_status_thunderbird15>
          <cf_tracking_thunderbird16>---</cf_tracking_thunderbird16>
          <cf_status_thunderbird16>---</cf_status_thunderbird16>
          <cf_tracking_thunderbird17>---</cf_tracking_thunderbird17>
          <cf_status_thunderbird17>---</cf_status_thunderbird17>
          <cf_tracking_thunderbird18>---</cf_tracking_thunderbird18>
          <cf_status_thunderbird18>---</cf_status_thunderbird18>
          <cf_tracking_thunderbird19>---</cf_tracking_thunderbird19>
          <cf_status_thunderbird19>---</cf_status_thunderbird19>
          <cf_tracking_thunderbird20>---</cf_tracking_thunderbird20>
          <cf_status_thunderbird20>---</cf_status_thunderbird20>
          <cf_tracking_thunderbird21>---</cf_tracking_thunderbird21>
          <cf_status_thunderbird21>---</cf_status_thunderbird21>
          <cf_tracking_thunderbird22>---</cf_tracking_thunderbird22>
          <cf_status_thunderbird22>---</cf_status_thunderbird22>
          <cf_tracking_thunderbird23>---</cf_tracking_thunderbird23>
          <cf_status_thunderbird23>---</cf_status_thunderbird23>
          <cf_tracking_thunderbird24>---</cf_tracking_thunderbird24>
          <cf_status_thunderbird24>---</cf_status_thunderbird24>
          <cf_tracking_thunderbird25>---</cf_tracking_thunderbird25>
          <cf_status_thunderbird25>---</cf_status_thunderbird25>
          <cf_tracking_thunderbird26>---</cf_tracking_thunderbird26>
          <cf_status_thunderbird26>---</cf_status_thunderbird26>
          <cf_tracking_thunderbird27>---</cf_tracking_thunderbird27>
          <cf_status_thunderbird27>---</cf_status_thunderbird27>
          <cf_tracking_thunderbird28>---</cf_tracking_thunderbird28>
          <cf_status_thunderbird28>---</cf_status_thunderbird28>
          <cf_tracking_thunderbird29>---</cf_tracking_thunderbird29>
          <cf_status_thunderbird29>---</cf_status_thunderbird29>
          <cf_tracking_thunderbird_30>---</cf_tracking_thunderbird_30>
          <cf_status_thunderbird_30>---</cf_status_thunderbird_30>
          <cf_tracking_thunderbird_31>---</cf_tracking_thunderbird_31>
          <cf_status_thunderbird_31>---</cf_status_thunderbird_31>
          <cf_tracking_thunderbird_32>---</cf_tracking_thunderbird_32>
          <cf_status_thunderbird_32>---</cf_status_thunderbird_32>
          <cf_tracking_thunderbird_esr10>---</cf_tracking_thunderbird_esr10>
          <cf_status_thunderbird_esr10>---</cf_status_thunderbird_esr10>
          <cf_tracking_thunderbird_esr17>---</cf_tracking_thunderbird_esr17>
          <cf_status_thunderbird_esr17>---</cf_status_thunderbird_esr17>
          <cf_tracking_thunderbird_esr24>---</cf_tracking_thunderbird_esr24>
          <cf_status_thunderbird_esr24>---</cf_status_thunderbird_esr24>
          <cf_tracking_thunderbird_33>---</cf_tracking_thunderbird_33>
          <cf_status_thunderbird_33>---</cf_status_thunderbird_33>
          <cf_tracking_thunderbird_34>---</cf_tracking_thunderbird_34>
          <cf_status_thunderbird_34>---</cf_status_thunderbird_34>
          <cf_tracking_thunderbird_35>---</cf_tracking_thunderbird_35>
          <cf_status_thunderbird_35>---</cf_status_thunderbird_35>
          <cf_tracking_thunderbird_esr31>---</cf_tracking_thunderbird_esr31>
          <cf_status_thunderbird_esr31>---</cf_status_thunderbird_esr31>
          <cf_blocking_seamonkey21>---</cf_blocking_seamonkey21>
          <cf_status_seamonkey21>---</cf_status_seamonkey21>
          <cf_tracking_seamonkey22>---</cf_tracking_seamonkey22>
          <cf_status_seamonkey22>---</cf_status_seamonkey22>
          <cf_tracking_seamonkey23>---</cf_tracking_seamonkey23>
          <cf_status_seamonkey23>---</cf_status_seamonkey23>
          <cf_tracking_seamonkey24>---</cf_tracking_seamonkey24>
          <cf_status_seamonkey24>---</cf_status_seamonkey24>
          <cf_tracking_seamonkey25>---</cf_tracking_seamonkey25>
          <cf_status_seamonkey25>---</cf_status_seamonkey25>
          <cf_tracking_seamonkey26>---</cf_tracking_seamonkey26>
          <cf_status_seamonkey26>---</cf_status_seamonkey26>
          <cf_tracking_seamonkey27>---</cf_tracking_seamonkey27>
          <cf_status_seamonkey27>---</cf_status_seamonkey27>
          <cf_tracking_seamonkey28>---</cf_tracking_seamonkey28>
          <cf_status_seamonkey28>---</cf_status_seamonkey28>
          <cf_tracking_seamonkey29>---</cf_tracking_seamonkey29>
          <cf_status_seamonkey29>---</cf_status_seamonkey29>
          <cf_tracking_seamonkey210>---</cf_tracking_seamonkey210>
          <cf_status_seamonkey210>---</cf_status_seamonkey210>
          <cf_tracking_seamonkey211>---</cf_tracking_seamonkey211>
          <cf_status_seamonkey211>---</cf_status_seamonkey211>
          <cf_tracking_seamonkey212>---</cf_tracking_seamonkey212>
          <cf_status_seamonkey212>---</cf_status_seamonkey212>
          <cf_tracking_seamonkey213>---</cf_tracking_seamonkey213>
          <cf_status_seamonkey213>---</cf_status_seamonkey213>
          <cf_tracking_seamonkey214>---</cf_tracking_seamonkey214>
          <cf_status_seamonkey214>---</cf_status_seamonkey214>
          <cf_tracking_seamonkey215>---</cf_tracking_seamonkey215>
          <cf_status_seamonkey215>---</cf_status_seamonkey215>
          <cf_tracking_seamonkey216>---</cf_tracking_seamonkey216>
          <cf_status_seamonkey216>---</cf_status_seamonkey216>
          <cf_tracking_seamonkey217>---</cf_tracking_seamonkey217>
          <cf_status_seamonkey217>---</cf_status_seamonkey217>
          <cf_tracking_seamonkey218>---</cf_tracking_seamonkey218>
          <cf_status_seamonkey218>---</cf_status_seamonkey218>
          <cf_tracking_seamonkey219>---</cf_tracking_seamonkey219>
          <cf_status_seamonkey219>---</cf_status_seamonkey219>
          <cf_tracking_seamonkey220>---</cf_tracking_seamonkey220>
          <cf_status_seamonkey220>---</cf_status_seamonkey220>
          <cf_tracking_seamonkey221>---</cf_tracking_seamonkey221>
          <cf_status_seamonkey221>---</cf_status_seamonkey221>
          <cf_tracking_seamonkey222>---</cf_tracking_seamonkey222>
          <cf_status_seamonkey222>---</cf_status_seamonkey222>
          <cf_tracking_seamonkey223>---</cf_tracking_seamonkey223>
          <cf_status_seamonkey223>---</cf_status_seamonkey223>
          <cf_tracking_seamonkey224>---</cf_tracking_seamonkey224>
          <cf_status_seamonkey224>---</cf_status_seamonkey224>
          <cf_tracking_seamonkey225>---</cf_tracking_seamonkey225>
          <cf_status_seamonkey225>---</cf_status_seamonkey225>
          <cf_status_seamonkey226>---</cf_status_seamonkey226>
          <cf_tracking_seamonkey226>---</cf_tracking_seamonkey226>
          <cf_status_seamonkey227>---</cf_status_seamonkey227>
          <cf_tracking_seamonkey227>---</cf_tracking_seamonkey227>
          <cf_status_seamonkey228>---</cf_status_seamonkey228>
          <cf_tracking_seamonkey228>---</cf_tracking_seamonkey228>
          <cf_status_seamonkey229>---</cf_status_seamonkey229>
          <cf_colo_site>---</cf_colo_site>
          <cf_tracking_seamonkey229>---</cf_tracking_seamonkey229>
          <cf_status_seamonkey230>---</cf_status_seamonkey230>
          <cf_office>---</cf_office>
          <cf_tracking_seamonkey230>---</cf_tracking_seamonkey230>
          <cf_status_seamonkey231>---</cf_status_seamonkey231>
          <cf_tracking_seamonkey231>---</cf_tracking_seamonkey231>
          <cf_status_seamonkey232>---</cf_status_seamonkey232>
          <cf_tracking_seamonkey232>---</cf_tracking_seamonkey232>
          <cf_crash_signature></cf_crash_signature>
          <cf_blocking_kilimanjaro>---</cf_blocking_kilimanjaro>
          <cf_blocking_b2g>---</cf_blocking_b2g>
          <cf_blocking_basecamp>---</cf_blocking_basecamp>
          <cf_feature_b2g>---</cf_feature_b2g>
          <cf_ux_b2g>---</cf_ux_b2g>
          <cf_last_resolved>2014-05-09 12:41:57</cf_last_resolved>
          <cf_user_story></cf_user_story>
          <cf_mozilla_project>---</cf_mozilla_project>
          <cf_machine_state>---</cf_machine_state>
          <cf_qa_whiteboard></cf_qa_whiteboard>
          <cf_fx_iteration>---</cf_fx_iteration>
          <cf_fx_points>---</cf_fx_points>
          <cf_last_resolved>2014-05-09 12:41:57</cf_last_resolved>
          <votes>0</votes>
          <flag name="in-testsuite"
          id="872007"
          type_id="37"
          status="+"
          setter="ryanvm"
    />
          <long_desc isprivate="0">
               <commentid>8767603</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-05-08 05:32:18 -0700</bug_when>
               <thetext>+++ This bug was initially created as a clone of Bug #999616 +++

Changes since last update:
#4663 Version 1.0.68
#4645 Only handle scroll events when PDFView.pdfDocument is defined (issue 4642)
#4666 PDFImage_resize: copy in place with alpha and ~5x speed up
#4675 Dutch translations for attachments strings
#4674 Move DocumentOutlineView and DocumentAttachmentsView to their own files
#4671 Guesses Type1C font type based on file content
#4679 [Firefox] Workaround for sessionStorage error when the preference network.cookie.lifetimePolicy is set to 1 (bug 1000777)
#4686 Converts attachment items to buttons instead of links
#4697 Fix the display of the indeterminate progress bar when the loaded percentage is NaN (issue 4696)
#4687 Providing content type for attachment downloads
#4676 Force Unix line endings for text files
#4692 Add support for setting multiple values at once in ViewHistory
#4693 Ensure that the viewer loads even if there are errors when the preferences are read
#4699 Reduces memory used during testing
#4669 Add a preference to set the sidebarView on load
#4689 Fixes DownloadManager for IE10 and above
#4701 Prevent trying to map characters to the specials unicode block in adjustMapping (issue 4650)
#4707 Link to FAQ from startpage
#4700 Reject polyfill and createPromiseCapability
#4705 Refactor how the database is read in ViewHistory
#4716 Amend GlyphMapForStandardFonts to fix issue 4276
#4709 Remove legacy promises from api.js
#4667 Remove LegacyPromise in src/core/chunked_stream.js
#4721 Tiny updates
#4724 Fixes cancel rendering regression
#4730 Fixes disableWorker regression
#4731 Fixes rendering of PDFs with nested trailer dictionary
#4725 Remove LegacyPromise in src/core/pdf_manager.js
#4727 Remove LegacyPromise in src/shared/annotation.js
#4726 Remove LegacyPromise in src/core/core.js
#4728 Remove LegacyPromise in src/core/worker.js
#4729 Remove LegacyPromise
#4733 Completes unit tests for PostScript evaluator and fixes two bugs in the evaluator itself
#4708 Graphic optimizations 1
#4732 Fixes tests for #926 and #2537
#4750 Reduce the number of resources loaded by GetDoc</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8767625</commentid>
               <attachid>8419359</attachid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-05-08 05:39:19 -0700</bug_when>
               <thetext>Created attachment 8419359
Update pdf.js to version 1.0.159

r?Mossop on the PdfStreamConverter.jsm change, r?yury on the rest.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8768864</commentid>
               <attachid>8419516</attachid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-05-08 10:13:59 -0700</bug_when>
               <thetext>Created attachment 8419516
Update pdf.js to version 1.0.162

Changes since the last version:
#4756 Add getFindBar for Fx extension (refactor)
#4753 Add getFindBar for Fx extension</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8768876</commentid>
               <attachid>8419516</attachid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-05-08 10:16:46 -0700</bug_when>
               <thetext>Comment on attachment 8419516
Update pdf.js to version 1.0.162

Dave, not sure if you want to look at the new PdfStreamConverter.jsm changes.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8770204</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-05-08 13:58:37 -0700</bug_when>
               <thetext>https://tbpl.mozilla.org/?tree=Try&amp;rev=a4f1864badcf</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8773279</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-05-09 06:34:28 -0700</bug_when>
               <thetext>https://hg.mozilla.org/integration/fx-team/rev/970b90975e1c</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8775198</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-05-09 12:41:57 -0700</bug_when>
               <thetext>https://hg.mozilla.org/mozilla-central/rev/970b90975e1c</thetext>
          </long_desc>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
               <attachid>8419359</attachid>
               <date>2014-05-08 05:39:19 -0700</date>
               <delta_ts>2014-05-08 10:13:59 -0700</delta_ts>
               <desc>Update pdf.js to version 1.0.159</desc>
               <filename>1007627</filename>
               <type>text/plain</type>
               <size>196893</size>
               <attacher>ryanvm</attacher>
               <flag name="review"
          id="871001"
          type_id="748"
          status="+"
          setter="dtownsend+bugmail"
    />
          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
               <attachid>8419516</attachid>
               <date>2014-05-08 10:13:59 -0700</date>
               <delta_ts>2014-05-08 16:30:25 -0700</delta_ts>
               <desc>Update pdf.js to version 1.0.162</desc>
               <filename>1007627</filename>
               <type>text/plain</type>
               <size>203023</size>
               <attacher>ryanvm</attacher>
               <flag name="review"
          id="871244"
          type_id="748"
          status="+"
          setter="ydelendik"
    />
               <flag name="review"
          id="871245"
          type_id="748"
          status="+"
          setter="dtownsend+bugmail"
    />
          </attachment>
     </bug>
     <bug>
          <bug_id>1060888</bug_id>
          <creation_ts>2014-08-31 02:10:29 -0700</creation_ts>
          <short_desc>Autocomplete drop down list item should not be copied to the search fields when mouse over the list item</short_desc>
          <delta_ts>2014-09-23 05:33:46 -0700</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Client Software</classification>
          <product>Firefox</product>
          <component>Search</component>
          <version>33 Branch</version>
          <rep_platform>All</rep_platform>
          <op_sys>All</op_sys>
          <bug_status>VERIFIED</bug_status>
          <resolution>FIXED</resolution>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords>dataloss, regression, uiwanted</keywords>
          <priority>--</priority>
          <bug_severity>critical</bug_severity>
          <target_milestone>Firefox 35</target_milestone>
          <dependson>1068852</dependson>
          <blocked>612453</blocked>
          <blocked>1028985</blocked>
          <blocked>1066794</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Alice0775 White">alice0775</reporter>
          <assigned_to name="Drew Willcoxon :adw (Away 9/29–10/14)">adw</assigned_to>
          <cc>adw</cc>
          <cc>BernesB</cc>
          <cc>edilee</cc>
          <cc>florin.mezei</cc>
          <cc>gavin.sharp</cc>
          <cc>ge3k0s</cc>
          <cc>jmjeffery</cc>
          <cc>johnp</cc>
          <cc>MattN+bmo</cc>
          <cc>mconnor</cc>
          <cc>mmaslaney</cc>
          <cc>mmucci</cc>
          <cc>petruta.rasa</cc>
          <cc>philipp</cc>
          <cc>sledru</cc>
          <qa_contact name="Petruta Rasa [QA] [:petruta]">petruta.rasa</qa_contact>
          <cf_blocking_loop>---</cf_blocking_loop>
          <cf_tracking_e10s>---</cf_tracking_e10s>
          <cf_tracking_firefox5>---</cf_tracking_firefox5>
          <cf_status_firefox5>---</cf_status_firefox5>
          <cf_tracking_firefox6>---</cf_tracking_firefox6>
          <cf_status_firefox6>---</cf_status_firefox6>
          <cf_tracking_firefox7>---</cf_tracking_firefox7>
          <cf_status_firefox7>---</cf_status_firefox7>
          <cf_tracking_firefox8>---</cf_tracking_firefox8>
          <cf_status_firefox8>---</cf_status_firefox8>
          <cf_tracking_firefox9>---</cf_tracking_firefox9>
          <cf_status_firefox9>---</cf_status_firefox9>
          <cf_tracking_firefox10>---</cf_tracking_firefox10>
          <cf_status_firefox10>---</cf_status_firefox10>
          <cf_tracking_firefox11>---</cf_tracking_firefox11>
          <cf_status_firefox11>---</cf_status_firefox11>
          <cf_tracking_firefox12>---</cf_tracking_firefox12>
          <cf_status_firefox12>---</cf_status_firefox12>
          <cf_tracking_firefox13>---</cf_tracking_firefox13>
          <cf_status_firefox13>---</cf_status_firefox13>
          <cf_tracking_firefox14>---</cf_tracking_firefox14>
          <cf_status_firefox14>---</cf_status_firefox14>
          <cf_tracking_firefox15>---</cf_tracking_firefox15>
          <cf_status_firefox15>---</cf_status_firefox15>
          <cf_tracking_firefox16>---</cf_tracking_firefox16>
          <cf_status_firefox16>---</cf_status_firefox16>
          <cf_tracking_firefox17>---</cf_tracking_firefox17>
          <cf_status_firefox17>---</cf_status_firefox17>
          <cf_tracking_firefox18>---</cf_tracking_firefox18>
          <cf_status_firefox18>---</cf_status_firefox18>
          <cf_tracking_firefox19>---</cf_tracking_firefox19>
          <cf_status_firefox19>---</cf_status_firefox19>
          <cf_tracking_firefox20>---</cf_tracking_firefox20>
          <cf_status_firefox20>---</cf_status_firefox20>
          <cf_tracking_firefox21>---</cf_tracking_firefox21>
          <cf_status_firefox21>---</cf_status_firefox21>
          <cf_tracking_firefox22>---</cf_tracking_firefox22>
          <cf_status_firefox22>---</cf_status_firefox22>
          <cf_tracking_firefox23>---</cf_tracking_firefox23>
          <cf_status_firefox23>---</cf_status_firefox23>
          <cf_tracking_firefox24>---</cf_tracking_firefox24>
          <cf_status_firefox24>---</cf_status_firefox24>
          <cf_tracking_firefox25>---</cf_tracking_firefox25>
          <cf_status_firefox25>---</cf_status_firefox25>
          <cf_tracking_firefox26>---</cf_tracking_firefox26>
          <cf_status_firefox26>---</cf_status_firefox26>
          <cf_tracking_firefox27>---</cf_tracking_firefox27>
          <cf_status_firefox27>---</cf_status_firefox27>
          <cf_tracking_firefox28>---</cf_tracking_firefox28>
          <cf_status_firefox28>---</cf_status_firefox28>
          <cf_tracking_firefox29>---</cf_tracking_firefox29>
          <cf_status_firefox29>---</cf_status_firefox29>
          <cf_tracking_firefox30>---</cf_tracking_firefox30>
          <cf_status_firefox30>---</cf_status_firefox30>
          <cf_tracking_firefox31>---</cf_tracking_firefox31>
          <cf_status_firefox31>---</cf_status_firefox31>
          <cf_tracking_firefox32>---</cf_tracking_firefox32>
          <cf_status_firefox32>unaffected</cf_status_firefox32>
          <cf_tracking_firefox33>+</cf_tracking_firefox33>
          <cf_status_firefox33>verified</cf_status_firefox33>
          <cf_tracking_firefox34>+</cf_tracking_firefox34>
          <cf_status_firefox34>verified</cf_status_firefox34>
          <cf_tracking_firefox35>---</cf_tracking_firefox35>
          <cf_status_firefox35>verified</cf_status_firefox35>
          <cf_tracking_esr10>---</cf_tracking_esr10>
          <cf_status_esr10>---</cf_status_esr10>
          <cf_tracking_firefox_esr17>---</cf_tracking_firefox_esr17>
          <cf_status_firefox_esr17>---</cf_status_firefox_esr17>
          <cf_tracking_firefox_esr24>---</cf_tracking_firefox_esr24>
          <cf_status_firefox_esr24>---</cf_status_firefox_esr24>
          <cf_tracking_firefox_esr31>---</cf_tracking_firefox_esr31>
          <cf_status_firefox_esr31>---</cf_status_firefox_esr31>
          <cf_tracking_b2g18>---</cf_tracking_b2g18>
          <cf_status_b2g18>---</cf_status_b2g18>
          <cf_status_b2g30>---</cf_status_b2g30>
          <cf_status_b2g18_1_0_0>---</cf_status_b2g18_1_0_0>
          <cf_status_b2g18_1_0_1>---</cf_status_b2g18_1_0_1>
          <cf_status_b2g_1_1_hd>---</cf_status_b2g_1_1_hd>
          <cf_tracking_b2g_v1_2>---</cf_tracking_b2g_v1_2>
          <cf_status_b2g_1_2>---</cf_status_b2g_1_2>
          <cf_tracking_b2g_v1_3>---</cf_tracking_b2g_v1_3>
          <cf_status_b2g_1_3>---</cf_status_b2g_1_3>
          <cf_status_b2g_1_3t>---</cf_status_b2g_1_3t>
          <cf_blocking_20>---</cf_blocking_20>
          <cf_status_20>---</cf_status_20>
          <cf_status_b2g_1_4>---</cf_status_b2g_1_4>
          <cf_status_b2g_2_0>---</cf_status_b2g_2_0>
          <cf_status_b2g_2_0m>---</cf_status_b2g_2_0m>
          <cf_status_b2g_2_1>---</cf_status_b2g_2_1>
          <cf_status_b2g_2_2>---</cf_status_b2g_2_2>
          <cf_blocking_192>---</cf_blocking_192>
          <cf_blocking_fx>---</cf_blocking_fx>
          <cf_tracking_firefox_relnote>---</cf_tracking_firefox_relnote>
          <cf_status_192>---</cf_status_192>
          <cf_tracking_relnote_b2g>---</cf_tracking_relnote_b2g>
          <cf_blocking_191>---</cf_blocking_191>
          <cf_status_191>---</cf_status_191>
          <cf_blocking_fennec10>---</cf_blocking_fennec10>
          <cf_blocking_fennec>---</cf_blocking_fennec>
          <cf_blocking_thunderbird33>---</cf_blocking_thunderbird33>
          <cf_status_thunderbird33>---</cf_status_thunderbird33>
          <cf_blocking_thunderbird32>---</cf_blocking_thunderbird32>
          <cf_status_thunderbird32>---</cf_status_thunderbird32>
          <cf_blocking_thunderbird31>---</cf_blocking_thunderbird31>
          <cf_status_thunderbird31>---</cf_status_thunderbird31>
          <cf_blocking_thunderbird30>---</cf_blocking_thunderbird30>
          <cf_status_thunderbird30>---</cf_status_thunderbird30>
          <cf_tracking_thunderbird6>---</cf_tracking_thunderbird6>
          <cf_status_thunderbird6>---</cf_status_thunderbird6>
          <cf_tracking_thunderbird7>---</cf_tracking_thunderbird7>
          <cf_status_thunderbird7>---</cf_status_thunderbird7>
          <cf_tracking_thunderbird8>---</cf_tracking_thunderbird8>
          <cf_status_thunderbird8>---</cf_status_thunderbird8>
          <cf_tracking_thunderbird9>---</cf_tracking_thunderbird9>
          <cf_status_thunderbird9>---</cf_status_thunderbird9>
          <cf_tracking_thunderbird10>---</cf_tracking_thunderbird10>
          <cf_status_thunderbird10>---</cf_status_thunderbird10>
          <cf_tracking_thunderbird11>---</cf_tracking_thunderbird11>
          <cf_status_thunderbird11>---</cf_status_thunderbird11>
          <cf_tracking_thunderbird12>---</cf_tracking_thunderbird12>
          <cf_status_thunderbird12>---</cf_status_thunderbird12>
          <cf_tracking_thunderbird13>---</cf_tracking_thunderbird13>
          <cf_status_thunderbird13>---</cf_status_thunderbird13>
          <cf_tracking_thunderbird14>---</cf_tracking_thunderbird14>
          <cf_status_thunderbird14>---</cf_status_thunderbird14>
          <cf_tracking_thunderbird15>---</cf_tracking_thunderbird15>
          <cf_status_thunderbird15>---</cf_status_thunderbird15>
          <cf_tracking_thunderbird16>---</cf_tracking_thunderbird16>
          <cf_status_thunderbird16>---</cf_status_thunderbird16>
          <cf_tracking_thunderbird17>---</cf_tracking_thunderbird17>
          <cf_status_thunderbird17>---</cf_status_thunderbird17>
          <cf_tracking_thunderbird18>---</cf_tracking_thunderbird18>
          <cf_status_thunderbird18>---</cf_status_thunderbird18>
          <cf_tracking_thunderbird19>---</cf_tracking_thunderbird19>
          <cf_status_thunderbird19>---</cf_status_thunderbird19>
          <cf_tracking_thunderbird20>---</cf_tracking_thunderbird20>
          <cf_status_thunderbird20>---</cf_status_thunderbird20>
          <cf_tracking_thunderbird21>---</cf_tracking_thunderbird21>
          <cf_status_thunderbird21>---</cf_status_thunderbird21>
          <cf_tracking_thunderbird22>---</cf_tracking_thunderbird22>
          <cf_status_thunderbird22>---</cf_status_thunderbird22>
          <cf_tracking_thunderbird23>---</cf_tracking_thunderbird23>
          <cf_status_thunderbird23>---</cf_status_thunderbird23>
          <cf_tracking_thunderbird24>---</cf_tracking_thunderbird24>
          <cf_status_thunderbird24>---</cf_status_thunderbird24>
          <cf_tracking_thunderbird25>---</cf_tracking_thunderbird25>
          <cf_status_thunderbird25>---</cf_status_thunderbird25>
          <cf_tracking_thunderbird26>---</cf_tracking_thunderbird26>
          <cf_status_thunderbird26>---</cf_status_thunderbird26>
          <cf_tracking_thunderbird27>---</cf_tracking_thunderbird27>
          <cf_status_thunderbird27>---</cf_status_thunderbird27>
          <cf_tracking_thunderbird28>---</cf_tracking_thunderbird28>
          <cf_status_thunderbird28>---</cf_status_thunderbird28>
          <cf_tracking_thunderbird29>---</cf_tracking_thunderbird29>
          <cf_status_thunderbird29>---</cf_status_thunderbird29>
          <cf_tracking_thunderbird_30>---</cf_tracking_thunderbird_30>
          <cf_status_thunderbird_30>---</cf_status_thunderbird_30>
          <cf_tracking_thunderbird_31>---</cf_tracking_thunderbird_31>
          <cf_status_thunderbird_31>---</cf_status_thunderbird_31>
          <cf_tracking_thunderbird_32>---</cf_tracking_thunderbird_32>
          <cf_status_thunderbird_32>---</cf_status_thunderbird_32>
          <cf_tracking_thunderbird_esr10>---</cf_tracking_thunderbird_esr10>
          <cf_status_thunderbird_esr10>---</cf_status_thunderbird_esr10>
          <cf_tracking_thunderbird_esr17>---</cf_tracking_thunderbird_esr17>
          <cf_status_thunderbird_esr17>---</cf_status_thunderbird_esr17>
          <cf_tracking_thunderbird_esr24>---</cf_tracking_thunderbird_esr24>
          <cf_status_thunderbird_esr24>---</cf_status_thunderbird_esr24>
          <cf_tracking_thunderbird_33>---</cf_tracking_thunderbird_33>
          <cf_status_thunderbird_33>---</cf_status_thunderbird_33>
          <cf_tracking_thunderbird_34>---</cf_tracking_thunderbird_34>
          <cf_status_thunderbird_34>---</cf_status_thunderbird_34>
          <cf_tracking_thunderbird_35>---</cf_tracking_thunderbird_35>
          <cf_status_thunderbird_35>---</cf_status_thunderbird_35>
          <cf_tracking_thunderbird_esr31>---</cf_tracking_thunderbird_esr31>
          <cf_status_thunderbird_esr31>---</cf_status_thunderbird_esr31>
          <cf_blocking_seamonkey21>---</cf_blocking_seamonkey21>
          <cf_status_seamonkey21>---</cf_status_seamonkey21>
          <cf_tracking_seamonkey22>---</cf_tracking_seamonkey22>
          <cf_status_seamonkey22>---</cf_status_seamonkey22>
          <cf_tracking_seamonkey23>---</cf_tracking_seamonkey23>
          <cf_status_seamonkey23>---</cf_status_seamonkey23>
          <cf_tracking_seamonkey24>---</cf_tracking_seamonkey24>
          <cf_status_seamonkey24>---</cf_status_seamonkey24>
          <cf_tracking_seamonkey25>---</cf_tracking_seamonkey25>
          <cf_status_seamonkey25>---</cf_status_seamonkey25>
          <cf_tracking_seamonkey26>---</cf_tracking_seamonkey26>
          <cf_status_seamonkey26>---</cf_status_seamonkey26>
          <cf_tracking_seamonkey27>---</cf_tracking_seamonkey27>
          <cf_status_seamonkey27>---</cf_status_seamonkey27>
          <cf_tracking_seamonkey28>---</cf_tracking_seamonkey28>
          <cf_status_seamonkey28>---</cf_status_seamonkey28>
          <cf_tracking_seamonkey29>---</cf_tracking_seamonkey29>
          <cf_status_seamonkey29>---</cf_status_seamonkey29>
          <cf_tracking_seamonkey210>---</cf_tracking_seamonkey210>
          <cf_status_seamonkey210>---</cf_status_seamonkey210>
          <cf_tracking_seamonkey211>---</cf_tracking_seamonkey211>
          <cf_status_seamonkey211>---</cf_status_seamonkey211>
          <cf_tracking_seamonkey212>---</cf_tracking_seamonkey212>
          <cf_status_seamonkey212>---</cf_status_seamonkey212>
          <cf_tracking_seamonkey213>---</cf_tracking_seamonkey213>
          <cf_status_seamonkey213>---</cf_status_seamonkey213>
          <cf_tracking_seamonkey214>---</cf_tracking_seamonkey214>
          <cf_status_seamonkey214>---</cf_status_seamonkey214>
          <cf_tracking_seamonkey215>---</cf_tracking_seamonkey215>
          <cf_status_seamonkey215>---</cf_status_seamonkey215>
          <cf_tracking_seamonkey216>---</cf_tracking_seamonkey216>
          <cf_status_seamonkey216>---</cf_status_seamonkey216>
          <cf_tracking_seamonkey217>---</cf_tracking_seamonkey217>
          <cf_status_seamonkey217>---</cf_status_seamonkey217>
          <cf_tracking_seamonkey218>---</cf_tracking_seamonkey218>
          <cf_status_seamonkey218>---</cf_status_seamonkey218>
          <cf_tracking_seamonkey219>---</cf_tracking_seamonkey219>
          <cf_status_seamonkey219>---</cf_status_seamonkey219>
          <cf_tracking_seamonkey220>---</cf_tracking_seamonkey220>
          <cf_status_seamonkey220>---</cf_status_seamonkey220>
          <cf_tracking_seamonkey221>---</cf_tracking_seamonkey221>
          <cf_status_seamonkey221>---</cf_status_seamonkey221>
          <cf_tracking_seamonkey222>---</cf_tracking_seamonkey222>
          <cf_status_seamonkey222>---</cf_status_seamonkey222>
          <cf_tracking_seamonkey223>---</cf_tracking_seamonkey223>
          <cf_status_seamonkey223>---</cf_status_seamonkey223>
          <cf_tracking_seamonkey224>---</cf_tracking_seamonkey224>
          <cf_status_seamonkey224>---</cf_status_seamonkey224>
          <cf_tracking_seamonkey225>---</cf_tracking_seamonkey225>
          <cf_status_seamonkey225>---</cf_status_seamonkey225>
          <cf_status_seamonkey226>---</cf_status_seamonkey226>
          <cf_tracking_seamonkey226>---</cf_tracking_seamonkey226>
          <cf_status_seamonkey227>---</cf_status_seamonkey227>
          <cf_tracking_seamonkey227>---</cf_tracking_seamonkey227>
          <cf_status_seamonkey228>---</cf_status_seamonkey228>
          <cf_tracking_seamonkey228>---</cf_tracking_seamonkey228>
          <cf_status_seamonkey229>---</cf_status_seamonkey229>
          <cf_colo_site>---</cf_colo_site>
          <cf_tracking_seamonkey229>---</cf_tracking_seamonkey229>
          <cf_status_seamonkey230>---</cf_status_seamonkey230>
          <cf_office>---</cf_office>
          <cf_tracking_seamonkey230>---</cf_tracking_seamonkey230>
          <cf_status_seamonkey231>---</cf_status_seamonkey231>
          <cf_tracking_seamonkey231>---</cf_tracking_seamonkey231>
          <cf_status_seamonkey232>---</cf_status_seamonkey232>
          <cf_tracking_seamonkey232>---</cf_tracking_seamonkey232>
          <cf_crash_signature></cf_crash_signature>
          <cf_blocking_kilimanjaro>---</cf_blocking_kilimanjaro>
          <cf_blocking_b2g>---</cf_blocking_b2g>
          <cf_blocking_basecamp>---</cf_blocking_basecamp>
          <cf_feature_b2g>---</cf_feature_b2g>
          <cf_ux_b2g>---</cf_ux_b2g>
          <cf_last_resolved>2014-09-17 11:27:55</cf_last_resolved>
          <cf_user_story></cf_user_story>
          <cf_mozilla_project>---</cf_mozilla_project>
          <cf_machine_state>---</cf_machine_state>
          <cf_qa_whiteboard></cf_qa_whiteboard>
          <cf_fx_iteration>35.2</cf_fx_iteration>
          <cf_fx_points>2</cf_fx_points>
          <cf_last_resolved>2014-09-17 11:27:55</cf_last_resolved>
          <votes>0</votes>
          <flag name="firefox-backlog"
          id="979448"
          type_id="846"
          status="+"
          setter="mmucci"
    />
          <flag name="in-testsuite"
          id="980437"
          type_id="37"
          status="+"
          setter="ryanvm"
    />
          <flag name="qe-verify"
          id="979449"
          type_id="864"
          status="+"
          setter="mmucci"
    />
          <long_desc isprivate="0">
               <commentid>9252170</commentid>
               <who name="Alice0775 White">alice0775</who>
               <bug_when>2014-08-31 02:10:29 -0700</bug_when>
               <thetext>Steps to reproduce:
1. Type something(e.q., mozilla) into the search fields of about:home/about:newtab
2. Move mouse pointer to any position through autocomplete drop down list
   (regardless of an accident or intentional)

Actual Results:
An item of drop down list will be copied to the search field unexpectedly.
This fact, the term that you have typed will be lost.

Expected Results:
Autocomplete drop down list item should not be copied to the search fields when mouse over the list item.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9252172</commentid>
               <who name="Alice0775 White">alice0775</who>
               <bug_when>2014-08-31 02:12:39 -0700</bug_when>
               <thetext>[Tracking Requested - why for this release]: regression</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9252176</commentid>
               <who name="Sylvestre Ledru [:sylvestre]">sledru</who>
               <bug_when>2014-08-31 02:21:00 -0700</bug_when>
               <thetext>Indeed, tracking. Thanks.

Ed, can you help here?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9252242</commentid>
               <who name="Johannes Pfrang [:johnp]">johnp</who>
               <bug_when>2014-08-31 04:07:28 -0700</bug_when>
               <thetext>Just as a notice: Input isn&apos;t lost, but can be restored by clicking somewhere else or moving back to the search field using the arrow keys. Somehow, contrary to my understanding, clicking into the search field doesn&apos;t do the same as moving back into the search field using the arrow keys. It simply does nothing. Probably a separate bug?

Anyway: In the SearchSuggestionUIController we&apos;re updating the search fields input value when setting selectedIndex, which happens on every onMousemove and onKeypress with KEY_DOWN/_UP. We have a seperate variable _stickyInputValue to be only touched on onMousedown and onKeypress with KEY_ENTER when the user *intentionally* selects  a suggestion. Seems to me we should only touch the search fields input value when changing the latter.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9252244</commentid>
               <who name="Johannes Pfrang [:johnp]">johnp</who>
               <bug_when>2014-08-31 04:18:05 -0700</bug_when>
               <thetext>Ahh, forget the &quot;clicking into the search field&quot; vs &quot;navigating into the search field&quot; it is ofc triggered by this bug.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9252245</commentid>
               <who name="Johannes Pfrang [:johnp]">johnp</who>
               <bug_when>2014-08-31 04:26:03 -0700</bug_when>
               <thetext>And if copying on set selectedIndex is intentional we should go back to the original state on mouseleave. Make things triggered by mouse movement revertible by mouse movement.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9252253</commentid>
               <who name="Alice0775 White">alice0775</who>
               <bug_when>2014-08-31 04:42:40 -0700</bug_when>
               <thetext>(In reply to Johannes Pfrang [:johnp] from comment #3)
&gt; Just as a notice: Input isn&apos;t lost, but can be restored by clicking
&gt; somewhere else or moving back to the search field using the arrow keys.

During pending composition IME, it actually cleared. the workaround does not work.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9252264</commentid>
               <who name="Johannes Pfrang [:johnp]">johnp</who>
               <bug_when>2014-08-31 05:16:45 -0700</bug_when>
               <thetext>Sorry, I misunderstood. When you&apos;re still typing while the search field is populated by the (accidentally selected) search suggestion (because of moving the mouse pointer below the search field), you&apos;re appending characters to the search suggestion and not to your input.

I haven&apos;t thought of this because you have to move the mouse in between typing to get such an accidental suggestion to fill the search field. There is even a comment about this in the source:

&gt; // It&apos;s important to listen for mousemove, not mouseover or mouseenter.  The
&gt; // latter two are triggered when the user is typing and the mouse happens to
&gt; // be over the suggestions popup.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9252283</commentid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-08-31 05:59:24 -0700</bug_when>
               <thetext>(In reply to Sylvestre Ledru [:sylvestre] from comment #2)
&gt; Ed, can you help here?
sylvestre, what am I helping here? Figuring out what should happen or changing the behavior?

In terms of the dataloss keyword, I don&apos;t think that&apos;s quite accurate as you can &quot;undo&quot; the text box and get back the original value. It&apos;s the first context menu item or ctrl/cmd-Z.

The bug described in comment 0 is implemented as per mconnor&apos;s bug 612453 comment 23. There was also extra work done to make sure the mouse happening to hover over the menu would not trigger autocomplete unless moved per bug 612453 comment 65: &quot;This also fixes a problem where if the mouse happened to be over the popup when it opens, then the row that the mouse is over gets injected into the input, and it&apos;s impossible to edit the text in the input because the row keeps getting injected.  The problem was using mouseover instead of mousemove, like Mike&apos;s patch did, so I switched back to mousemove.&quot;

mconnor, could you provide some context on the decision to have this functionality?

adw noted some UX inconsistencies in bug 612453 comment 86: &quot;When you mouse over a suggestion, it&apos;s placed in the input.  Note that using the arrow keys to choose a suggestion does place it in the input, both in about:home&apos;s popup and the main search bar&apos;s.&quot;

This led to the UX bug 1047354 where mmaslaney provided some visual guidance, but the only thing I see about mouse is about how the list items should look when hovered: http://people.mozilla.org/~mmaslaney/Search/Autocomplete-dropdown-spec.png

mmaslaney, what should the textbox behavior be when hovering over items?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9252540</commentid>
               <who name="Sylvestre Ledru [:sylvestre]">sledru</who>
               <bug_when>2014-08-31 10:57:41 -0700</bug_when>
               <thetext>(In reply to Ed Lee :Mardak from comment #8)
&gt; (In reply to Sylvestre Ledru [:sylvestre] from comment #2)
&gt; &gt; Ed, can you help here?
&gt; sylvestre, what am I helping here? Figuring out what should happen or
&gt; changing the behavior?
Yes, I wasn&apos;t expecting it was on purpose since this behavior is quite unusual (at least for me).</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9257970</commentid>
               <who name="mmaslaney">mmaslaney</who>
               <bug_when>2014-09-02 06:11:45 -0700</bug_when>
               <thetext>The Autocomplete drop down list item should not be copied to the search fields when mouse over the list item.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9258965</commentid>
               <who name="Johannes Pfrang [:johnp]">johnp</who>
               <bug_when>2014-09-02 09:05:43 -0700</bug_when>
               <thetext>So this would make it impossible to edit a search suggestion on about: pages but having to first visit the search provider before completing the search string (after clicking on the first word of your search for example) or (after experiencing the instant loading behaviour first) to not use the suggestions as long as it doesn&apos;t fit perfectly. That were my thoughts on possibly leaving the behaviour but just restoring onmouseout, because the selection already has to be done on purpose by mouse movement and deselection could then be done as easily. ofc I&apos;m no UI expert so that&apos;s just FYI.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9260539</commentid>
               <who name="Ed Lee :Mardak">edilee</who>
               <bug_when>2014-09-02 13:28:30 -0700</bug_when>
               <thetext>(In reply to mmaslaney from comment #10)
&gt; The Autocomplete drop down list item should not be copied to the search
&gt; fields when mouse over the list item.
mmaslaney, to be clear, there should be no way to edit a search suggestion with the mouse as desired in comment 11? The user would still be able to select and edit suggestions with the keyboard (down, delete).</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9261860</commentid>
               <who name="Johannes Pfrang [:johnp]">johnp</who>
               <bug_when>2014-09-02 17:49:25 -0700</bug_when>
               <thetext>Ed, no desire really, just a thought. Doing it like you both suggest will be the same behavior as other dropdown suggestion fields like that on Google Search which would understandably be a good UI decision. The incentive leading to my thought was just the &quot;disruption&quot; caused by navigating to the search provider. In any way, as ed says, one can still select&amp;edit using the keyboard, which would understandably be good enough. Just remembering Google from the time, before typing into the search field automatically directed you to the search result view without reload (which now effectively nullifies the disruption), must have had the same behavior as far as I remember.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9275513</commentid>
               <who name="Philipp Sackl [:phlsa]">philipp</who>
               <bug_when>2014-09-05 06:40:14 -0700</bug_when>
               <thetext>(In reply to mmaslaney from comment #10)
&gt; The Autocomplete drop down list item should not be copied to the search
&gt; fields when mouse over the list item.

Exactly. Summing up:

User moves the mouse over an entry: Entry is highlighted. Text in textbox doesn&apos;t change.
User clicks on an entry: Textbox value is changed to match that entry and a search is triggered immediately.
User uses arrow keys to move through the list: Textbox reflects the currently selected item.

This behavior is also used by the major search providers on their sites.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9276349</commentid>
               <who name="Mike Connor [:mconnor]">mconnor</who>
               <bug_when>2014-09-05 09:24:57 -0700</bug_when>
               <thetext>Honestly, I have no idea why I built it this way.  Maybe Google was doing it at the time?  Seems sort of silly, and we shouldn&apos;t do it.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9318934</commentid>
               <attachid>8490289</attachid>
               <who name="Drew Willcoxon :adw (Away 9/29–10/14)">adw</who>
               <bug_when>2014-09-16 12:50:11 -0700</bug_when>
               <thetext>Created attachment 8490289
search-suggestion-no-mouseover-1060888</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9323178</commentid>
               <who name="Drew Willcoxon :adw (Away 9/29–10/14)">adw</who>
               <bug_when>2014-09-17 09:12:10 -0700</bug_when>
               <thetext>https://hg.mozilla.org/integration/fx-team/rev/8aa5a115ceae</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9323979</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-09-17 11:27:55 -0700</bug_when>
               <thetext>https://hg.mozilla.org/mozilla-central/rev/8aa5a115ceae</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9324944</commentid>
               <who name=":Gavin Sharp [email: gavin@gavinsharp.com]">gavin.sharp</who>
               <bug_when>2014-09-17 13:47:35 -0700</bug_when>
               <thetext>Drew: just a reminder to request approval for 33/34 here.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9325059</commentid>
               <attachid>8490289</attachid>
               <who name="Drew Willcoxon :adw (Away 9/29–10/14)">adw</who>
               <bug_when>2014-09-17 14:06:47 -0700</bug_when>
               <thetext>Comment on attachment 8490289
search-suggestion-no-mouseover-1060888

Approval Request Comment
[Feature/regressing bug #]: search suggestions in about:home/newtab (bug 612453)
[User impact if declined]: search suggestions popup in about:home/newtab will behave a little differently from the main search bar&apos;s popup
[Describe test coverage new/current, TBPL]: automated testing
[Risks and why]: low risk, only changes mouseover behavior of about:home/newtab suggestions
[String/UUID change made/needed]: none</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9328713</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-09-18 07:54:33 -0700</bug_when>
               <thetext>https://hg.mozilla.org/releases/mozilla-aurora/rev/39e02526888e
https://hg.mozilla.org/releases/mozilla-beta/rev/6975bbd6c73a</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9341181</commentid>
               <who name="Petruta Rasa [QA] [:petruta]">petruta.rasa</who>
               <bug_when>2014-09-22 06:54:07 -0700</bug_when>
               <thetext>Verified as fixed on latest Aurora 34.0a2 (20140922004004) and latest Nightly 35.0a1 (20140921030208) under Win 7, 64-bit, Ubuntu 12.10 32-bit and Mac OSX 10.9.5.

Drew, the text from mouse over is copied in the textbox when the right arrow is pressed. It this ok?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9342005</commentid>
               <who name="Drew Willcoxon :adw (Away 9/29–10/14)">adw</who>
               <bug_when>2014-09-22 09:14:25 -0700</bug_when>
               <thetext>Could you please file a new bug?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9342028</commentid>
               <who name="Drew Willcoxon :adw (Away 9/29–10/14)">adw</who>
               <bug_when>2014-09-22 09:16:45 -0700</bug_when>
               <thetext>Sorry, I misread.  When you press the right arrow key the text should be copied to the textbox.  I read &quot;right button.&quot;</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9347176</commentid>
               <who name="Petruta Rasa [QA] [:petruta]">petruta.rasa</who>
               <bug_when>2014-09-23 05:33:46 -0700</bug_when>
               <thetext>Thanks Drew!

Verified today using Firefox 33 beta 6 (20140922173023) under all platforms.</thetext>
          </long_desc>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
               <attachid>8490289</attachid>
               <date>2014-09-16 12:50:11 -0700</date>
               <delta_ts>2014-09-18 02:52:16 -0700</delta_ts>
               <desc>search-suggestion-no-mouseover-1060888</desc>
               <filename>search-suggestion-no-mouseover-1060888</filename>
               <type>text/plain</type>
               <size>3851</size>
               <attacher>adw</attacher>
               <flag name="review"
          id="979440"
          type_id="748"
          status="+"
          setter="MattN+bmo"
    />
               <flag name="approval-mozilla-aurora"
          id="980636"
          type_id="720"
          status="+"
          setter="sledru"
    />
               <flag name="approval-mozilla-beta"
          id="980637"
          type_id="721"
          status="+"
          setter="sledru"
    />
          </attachment>
     </bug>
     <bug>
          <bug_id>774144</bug_id>
          <creation_ts>2012-07-15 18:14:29 -0700</creation_ts>
          <short_desc>Webapp uninstallation on Windows through mozapps uninstall function</short_desc>
          <delta_ts>2014-07-10 14:47:39 -0700</delta_ts>
          <reporter_accessible>1</reporter_accessible>
          <cclist_accessible>1</cclist_accessible>
          <classification_id>2</classification_id>
          <classification>Client Software</classification>
          <product>Firefox</product>
          <component>Web Apps</component>
          <version>unspecified</version>
          <rep_platform>All</rep_platform>
          <op_sys>Windows 7</op_sys>
          <bug_status>RESOLVED</bug_status>
          <resolution>FIXED</resolution>
          <bug_file_loc></bug_file_loc>
          <status_whiteboard></status_whiteboard>
          <keywords></keywords>
          <priority>P2</priority>
          <bug_severity>normal</bug_severity>
          <target_milestone>Firefox 31</target_milestone>
          <blocked>981251</blocked>
          <blocked>991766</blocked>
          <everconfirmed>1</everconfirmed>
          <reporter name="Jason Smith [:jsmith]">jsmith</reporter>
          <assigned_to name="Marco Castelluccio [:marco]">mar.castelluccio</assigned_to>
          <cc>anant</cc>
          <cc>anthony.s.hughes</cc>
          <cc>jsmith</cc>
          <cc>mar.castelluccio</cc>
          <cc>myk</cc>
          <cc>ryanvm</cc>
          <cc>tabraldes</cc>
          <cc>tchoma</cc>
          <cc>vkrishnamoorthy</cc>
          <qa_contact name="Jason Smith [:jsmith]">jsmith</qa_contact>
          <cf_blocking_loop>---</cf_blocking_loop>
          <cf_tracking_e10s>---</cf_tracking_e10s>
          <cf_tracking_firefox5>---</cf_tracking_firefox5>
          <cf_status_firefox5>---</cf_status_firefox5>
          <cf_tracking_firefox6>---</cf_tracking_firefox6>
          <cf_status_firefox6>---</cf_status_firefox6>
          <cf_tracking_firefox7>---</cf_tracking_firefox7>
          <cf_status_firefox7>---</cf_status_firefox7>
          <cf_tracking_firefox8>---</cf_tracking_firefox8>
          <cf_status_firefox8>---</cf_status_firefox8>
          <cf_tracking_firefox9>---</cf_tracking_firefox9>
          <cf_status_firefox9>---</cf_status_firefox9>
          <cf_tracking_firefox10>---</cf_tracking_firefox10>
          <cf_status_firefox10>---</cf_status_firefox10>
          <cf_tracking_firefox11>---</cf_tracking_firefox11>
          <cf_status_firefox11>---</cf_status_firefox11>
          <cf_tracking_firefox12>---</cf_tracking_firefox12>
          <cf_status_firefox12>---</cf_status_firefox12>
          <cf_tracking_firefox13>---</cf_tracking_firefox13>
          <cf_status_firefox13>---</cf_status_firefox13>
          <cf_tracking_firefox14>---</cf_tracking_firefox14>
          <cf_status_firefox14>---</cf_status_firefox14>
          <cf_tracking_firefox15>---</cf_tracking_firefox15>
          <cf_status_firefox15>---</cf_status_firefox15>
          <cf_tracking_firefox16>---</cf_tracking_firefox16>
          <cf_status_firefox16>wontfix</cf_status_firefox16>
          <cf_tracking_firefox17>---</cf_tracking_firefox17>
          <cf_status_firefox17>---</cf_status_firefox17>
          <cf_tracking_firefox18>---</cf_tracking_firefox18>
          <cf_status_firefox18>---</cf_status_firefox18>
          <cf_tracking_firefox19>---</cf_tracking_firefox19>
          <cf_status_firefox19>---</cf_status_firefox19>
          <cf_tracking_firefox20>---</cf_tracking_firefox20>
          <cf_status_firefox20>---</cf_status_firefox20>
          <cf_tracking_firefox21>---</cf_tracking_firefox21>
          <cf_status_firefox21>---</cf_status_firefox21>
          <cf_tracking_firefox22>---</cf_tracking_firefox22>
          <cf_status_firefox22>---</cf_status_firefox22>
          <cf_tracking_firefox23>---</cf_tracking_firefox23>
          <cf_status_firefox23>---</cf_status_firefox23>
          <cf_tracking_firefox24>---</cf_tracking_firefox24>
          <cf_status_firefox24>---</cf_status_firefox24>
          <cf_tracking_firefox25>---</cf_tracking_firefox25>
          <cf_status_firefox25>---</cf_status_firefox25>
          <cf_tracking_firefox26>---</cf_tracking_firefox26>
          <cf_status_firefox26>---</cf_status_firefox26>
          <cf_tracking_firefox27>---</cf_tracking_firefox27>
          <cf_status_firefox27>---</cf_status_firefox27>
          <cf_tracking_firefox28>---</cf_tracking_firefox28>
          <cf_status_firefox28>---</cf_status_firefox28>
          <cf_tracking_firefox29>---</cf_tracking_firefox29>
          <cf_status_firefox29>---</cf_status_firefox29>
          <cf_tracking_firefox30>---</cf_tracking_firefox30>
          <cf_status_firefox30>---</cf_status_firefox30>
          <cf_tracking_firefox31>---</cf_tracking_firefox31>
          <cf_status_firefox31>---</cf_status_firefox31>
          <cf_tracking_firefox32>---</cf_tracking_firefox32>
          <cf_status_firefox32>---</cf_status_firefox32>
          <cf_tracking_firefox33>---</cf_tracking_firefox33>
          <cf_status_firefox33>---</cf_status_firefox33>
          <cf_tracking_firefox34>---</cf_tracking_firefox34>
          <cf_status_firefox34>---</cf_status_firefox34>
          <cf_tracking_firefox35>---</cf_tracking_firefox35>
          <cf_status_firefox35>---</cf_status_firefox35>
          <cf_tracking_esr10>---</cf_tracking_esr10>
          <cf_status_esr10>---</cf_status_esr10>
          <cf_tracking_firefox_esr17>---</cf_tracking_firefox_esr17>
          <cf_status_firefox_esr17>---</cf_status_firefox_esr17>
          <cf_tracking_firefox_esr24>---</cf_tracking_firefox_esr24>
          <cf_status_firefox_esr24>---</cf_status_firefox_esr24>
          <cf_tracking_firefox_esr31>---</cf_tracking_firefox_esr31>
          <cf_status_firefox_esr31>---</cf_status_firefox_esr31>
          <cf_tracking_b2g18>---</cf_tracking_b2g18>
          <cf_status_b2g18>---</cf_status_b2g18>
          <cf_status_b2g30>---</cf_status_b2g30>
          <cf_status_b2g18_1_0_0>---</cf_status_b2g18_1_0_0>
          <cf_status_b2g18_1_0_1>---</cf_status_b2g18_1_0_1>
          <cf_status_b2g_1_1_hd>---</cf_status_b2g_1_1_hd>
          <cf_tracking_b2g_v1_2>---</cf_tracking_b2g_v1_2>
          <cf_status_b2g_1_2>---</cf_status_b2g_1_2>
          <cf_tracking_b2g_v1_3>---</cf_tracking_b2g_v1_3>
          <cf_status_b2g_1_3>---</cf_status_b2g_1_3>
          <cf_status_b2g_1_3t>---</cf_status_b2g_1_3t>
          <cf_blocking_20>---</cf_blocking_20>
          <cf_status_20>---</cf_status_20>
          <cf_status_b2g_1_4>---</cf_status_b2g_1_4>
          <cf_status_b2g_2_0>---</cf_status_b2g_2_0>
          <cf_status_b2g_2_0m>---</cf_status_b2g_2_0m>
          <cf_status_b2g_2_1>---</cf_status_b2g_2_1>
          <cf_status_b2g_2_2>---</cf_status_b2g_2_2>
          <cf_blocking_192>---</cf_blocking_192>
          <cf_blocking_fx>---</cf_blocking_fx>
          <cf_tracking_firefox_relnote>---</cf_tracking_firefox_relnote>
          <cf_status_192>---</cf_status_192>
          <cf_tracking_relnote_b2g>---</cf_tracking_relnote_b2g>
          <cf_blocking_191>---</cf_blocking_191>
          <cf_status_191>---</cf_status_191>
          <cf_blocking_fennec10>---</cf_blocking_fennec10>
          <cf_blocking_fennec>---</cf_blocking_fennec>
          <cf_blocking_thunderbird33>---</cf_blocking_thunderbird33>
          <cf_status_thunderbird33>---</cf_status_thunderbird33>
          <cf_blocking_thunderbird32>---</cf_blocking_thunderbird32>
          <cf_status_thunderbird32>---</cf_status_thunderbird32>
          <cf_blocking_thunderbird31>---</cf_blocking_thunderbird31>
          <cf_status_thunderbird31>---</cf_status_thunderbird31>
          <cf_blocking_thunderbird30>---</cf_blocking_thunderbird30>
          <cf_status_thunderbird30>---</cf_status_thunderbird30>
          <cf_tracking_thunderbird6>---</cf_tracking_thunderbird6>
          <cf_status_thunderbird6>---</cf_status_thunderbird6>
          <cf_tracking_thunderbird7>---</cf_tracking_thunderbird7>
          <cf_status_thunderbird7>---</cf_status_thunderbird7>
          <cf_tracking_thunderbird8>---</cf_tracking_thunderbird8>
          <cf_status_thunderbird8>---</cf_status_thunderbird8>
          <cf_tracking_thunderbird9>---</cf_tracking_thunderbird9>
          <cf_status_thunderbird9>---</cf_status_thunderbird9>
          <cf_tracking_thunderbird10>---</cf_tracking_thunderbird10>
          <cf_status_thunderbird10>---</cf_status_thunderbird10>
          <cf_tracking_thunderbird11>---</cf_tracking_thunderbird11>
          <cf_status_thunderbird11>---</cf_status_thunderbird11>
          <cf_tracking_thunderbird12>---</cf_tracking_thunderbird12>
          <cf_status_thunderbird12>---</cf_status_thunderbird12>
          <cf_tracking_thunderbird13>---</cf_tracking_thunderbird13>
          <cf_status_thunderbird13>---</cf_status_thunderbird13>
          <cf_tracking_thunderbird14>---</cf_tracking_thunderbird14>
          <cf_status_thunderbird14>---</cf_status_thunderbird14>
          <cf_tracking_thunderbird15>---</cf_tracking_thunderbird15>
          <cf_status_thunderbird15>---</cf_status_thunderbird15>
          <cf_tracking_thunderbird16>---</cf_tracking_thunderbird16>
          <cf_status_thunderbird16>---</cf_status_thunderbird16>
          <cf_tracking_thunderbird17>---</cf_tracking_thunderbird17>
          <cf_status_thunderbird17>---</cf_status_thunderbird17>
          <cf_tracking_thunderbird18>---</cf_tracking_thunderbird18>
          <cf_status_thunderbird18>---</cf_status_thunderbird18>
          <cf_tracking_thunderbird19>---</cf_tracking_thunderbird19>
          <cf_status_thunderbird19>---</cf_status_thunderbird19>
          <cf_tracking_thunderbird20>---</cf_tracking_thunderbird20>
          <cf_status_thunderbird20>---</cf_status_thunderbird20>
          <cf_tracking_thunderbird21>---</cf_tracking_thunderbird21>
          <cf_status_thunderbird21>---</cf_status_thunderbird21>
          <cf_tracking_thunderbird22>---</cf_tracking_thunderbird22>
          <cf_status_thunderbird22>---</cf_status_thunderbird22>
          <cf_tracking_thunderbird23>---</cf_tracking_thunderbird23>
          <cf_status_thunderbird23>---</cf_status_thunderbird23>
          <cf_tracking_thunderbird24>---</cf_tracking_thunderbird24>
          <cf_status_thunderbird24>---</cf_status_thunderbird24>
          <cf_tracking_thunderbird25>---</cf_tracking_thunderbird25>
          <cf_status_thunderbird25>---</cf_status_thunderbird25>
          <cf_tracking_thunderbird26>---</cf_tracking_thunderbird26>
          <cf_status_thunderbird26>---</cf_status_thunderbird26>
          <cf_tracking_thunderbird27>---</cf_tracking_thunderbird27>
          <cf_status_thunderbird27>---</cf_status_thunderbird27>
          <cf_tracking_thunderbird28>---</cf_tracking_thunderbird28>
          <cf_status_thunderbird28>---</cf_status_thunderbird28>
          <cf_tracking_thunderbird29>---</cf_tracking_thunderbird29>
          <cf_status_thunderbird29>---</cf_status_thunderbird29>
          <cf_tracking_thunderbird_30>---</cf_tracking_thunderbird_30>
          <cf_status_thunderbird_30>---</cf_status_thunderbird_30>
          <cf_tracking_thunderbird_31>---</cf_tracking_thunderbird_31>
          <cf_status_thunderbird_31>---</cf_status_thunderbird_31>
          <cf_tracking_thunderbird_32>---</cf_tracking_thunderbird_32>
          <cf_status_thunderbird_32>---</cf_status_thunderbird_32>
          <cf_tracking_thunderbird_esr10>---</cf_tracking_thunderbird_esr10>
          <cf_status_thunderbird_esr10>---</cf_status_thunderbird_esr10>
          <cf_tracking_thunderbird_esr17>---</cf_tracking_thunderbird_esr17>
          <cf_status_thunderbird_esr17>---</cf_status_thunderbird_esr17>
          <cf_tracking_thunderbird_esr24>---</cf_tracking_thunderbird_esr24>
          <cf_status_thunderbird_esr24>---</cf_status_thunderbird_esr24>
          <cf_tracking_thunderbird_33>---</cf_tracking_thunderbird_33>
          <cf_status_thunderbird_33>---</cf_status_thunderbird_33>
          <cf_tracking_thunderbird_34>---</cf_tracking_thunderbird_34>
          <cf_status_thunderbird_34>---</cf_status_thunderbird_34>
          <cf_tracking_thunderbird_35>---</cf_tracking_thunderbird_35>
          <cf_status_thunderbird_35>---</cf_status_thunderbird_35>
          <cf_tracking_thunderbird_esr31>---</cf_tracking_thunderbird_esr31>
          <cf_status_thunderbird_esr31>---</cf_status_thunderbird_esr31>
          <cf_blocking_seamonkey21>---</cf_blocking_seamonkey21>
          <cf_status_seamonkey21>---</cf_status_seamonkey21>
          <cf_tracking_seamonkey22>---</cf_tracking_seamonkey22>
          <cf_status_seamonkey22>---</cf_status_seamonkey22>
          <cf_tracking_seamonkey23>---</cf_tracking_seamonkey23>
          <cf_status_seamonkey23>---</cf_status_seamonkey23>
          <cf_tracking_seamonkey24>---</cf_tracking_seamonkey24>
          <cf_status_seamonkey24>---</cf_status_seamonkey24>
          <cf_tracking_seamonkey25>---</cf_tracking_seamonkey25>
          <cf_status_seamonkey25>---</cf_status_seamonkey25>
          <cf_tracking_seamonkey26>---</cf_tracking_seamonkey26>
          <cf_status_seamonkey26>---</cf_status_seamonkey26>
          <cf_tracking_seamonkey27>---</cf_tracking_seamonkey27>
          <cf_status_seamonkey27>---</cf_status_seamonkey27>
          <cf_tracking_seamonkey28>---</cf_tracking_seamonkey28>
          <cf_status_seamonkey28>---</cf_status_seamonkey28>
          <cf_tracking_seamonkey29>---</cf_tracking_seamonkey29>
          <cf_status_seamonkey29>---</cf_status_seamonkey29>
          <cf_tracking_seamonkey210>---</cf_tracking_seamonkey210>
          <cf_status_seamonkey210>---</cf_status_seamonkey210>
          <cf_tracking_seamonkey211>---</cf_tracking_seamonkey211>
          <cf_status_seamonkey211>---</cf_status_seamonkey211>
          <cf_tracking_seamonkey212>---</cf_tracking_seamonkey212>
          <cf_status_seamonkey212>---</cf_status_seamonkey212>
          <cf_tracking_seamonkey213>---</cf_tracking_seamonkey213>
          <cf_status_seamonkey213>---</cf_status_seamonkey213>
          <cf_tracking_seamonkey214>---</cf_tracking_seamonkey214>
          <cf_status_seamonkey214>---</cf_status_seamonkey214>
          <cf_tracking_seamonkey215>---</cf_tracking_seamonkey215>
          <cf_status_seamonkey215>---</cf_status_seamonkey215>
          <cf_tracking_seamonkey216>---</cf_tracking_seamonkey216>
          <cf_status_seamonkey216>---</cf_status_seamonkey216>
          <cf_tracking_seamonkey217>---</cf_tracking_seamonkey217>
          <cf_status_seamonkey217>---</cf_status_seamonkey217>
          <cf_tracking_seamonkey218>---</cf_tracking_seamonkey218>
          <cf_status_seamonkey218>---</cf_status_seamonkey218>
          <cf_tracking_seamonkey219>---</cf_tracking_seamonkey219>
          <cf_status_seamonkey219>---</cf_status_seamonkey219>
          <cf_tracking_seamonkey220>---</cf_tracking_seamonkey220>
          <cf_status_seamonkey220>---</cf_status_seamonkey220>
          <cf_tracking_seamonkey221>---</cf_tracking_seamonkey221>
          <cf_status_seamonkey221>---</cf_status_seamonkey221>
          <cf_tracking_seamonkey222>---</cf_tracking_seamonkey222>
          <cf_status_seamonkey222>---</cf_status_seamonkey222>
          <cf_tracking_seamonkey223>---</cf_tracking_seamonkey223>
          <cf_status_seamonkey223>---</cf_status_seamonkey223>
          <cf_tracking_seamonkey224>---</cf_tracking_seamonkey224>
          <cf_status_seamonkey224>---</cf_status_seamonkey224>
          <cf_tracking_seamonkey225>---</cf_tracking_seamonkey225>
          <cf_status_seamonkey225>---</cf_status_seamonkey225>
          <cf_status_seamonkey226>---</cf_status_seamonkey226>
          <cf_tracking_seamonkey226>---</cf_tracking_seamonkey226>
          <cf_status_seamonkey227>---</cf_status_seamonkey227>
          <cf_tracking_seamonkey227>---</cf_tracking_seamonkey227>
          <cf_status_seamonkey228>---</cf_status_seamonkey228>
          <cf_tracking_seamonkey228>---</cf_tracking_seamonkey228>
          <cf_status_seamonkey229>---</cf_status_seamonkey229>
          <cf_colo_site>---</cf_colo_site>
          <cf_tracking_seamonkey229>---</cf_tracking_seamonkey229>
          <cf_status_seamonkey230>---</cf_status_seamonkey230>
          <cf_office>---</cf_office>
          <cf_tracking_seamonkey230>---</cf_tracking_seamonkey230>
          <cf_status_seamonkey231>---</cf_status_seamonkey231>
          <cf_tracking_seamonkey231>---</cf_tracking_seamonkey231>
          <cf_status_seamonkey232>---</cf_status_seamonkey232>
          <cf_tracking_seamonkey232>---</cf_tracking_seamonkey232>
          <cf_crash_signature></cf_crash_signature>
          <cf_blocking_kilimanjaro>---</cf_blocking_kilimanjaro>
          <cf_blocking_b2g>---</cf_blocking_b2g>
          <cf_blocking_basecamp>---</cf_blocking_basecamp>
          <cf_feature_b2g>---</cf_feature_b2g>
          <cf_ux_b2g>---</cf_ux_b2g>
          <cf_last_resolved>2014-04-18 06:14:19</cf_last_resolved>
          <cf_user_story></cf_user_story>
          <cf_mozilla_project>---</cf_mozilla_project>
          <cf_machine_state>---</cf_machine_state>
          <cf_qa_whiteboard>[qa-]</cf_qa_whiteboard>
          <cf_fx_iteration>---</cf_fx_iteration>
          <cf_fx_points>---</cf_fx_points>
          <cf_last_resolved>2014-04-18 06:14:19</cf_last_resolved>
          <votes>0</votes>
          <long_desc isprivate="0">
               <commentid>6474580</commentid>
               <who name="Jason Smith [:jsmith]">jsmith</who>
               <bug_when>2012-07-15 18:14:29 -0700</bug_when>
               <thetext>Similar to bug 774142, except for Windows. Support uninstalling an app natively through the mozapps uninstall() function on Windows.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>6490121</commentid>
               <who name="Jason Smith [:jsmith]">jsmith</who>
               <bug_when>2012-07-19 20:52:50 -0700</bug_when>
               <thetext>Anant - What are your thoughts on this?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8053992</commentid>
               <who name="Marco Castelluccio [:marco]">mar.castelluccio</who>
               <bug_when>2013-11-07 09:11:39 -0800</bug_when>
               <thetext>Question: do we want to just execute the uninstaller or to directly remove the application?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8620917</commentid>
               <attachid>8401796</attachid>
               <who name="Marco Castelluccio [:marco]">mar.castelluccio</who>
               <bug_when>2014-04-04 04:01:18 -0700</bug_when>
               <thetext>Created attachment 8401796
Patch</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8620931</commentid>
               <attachid>8401796</attachid>
               <who name="Marco Castelluccio [:marco]">mar.castelluccio</who>
               <bug_when>2014-04-04 04:07:54 -0700</bug_when>
               <thetext>Comment on attachment 8401796
Patch

Review of attachment 8401796:
-----------------------------------------------------------------

This patch:
 - Modifies the NSIS uninstaller to make it work in silent mode
 - Implements the uninstall function executing the uninstaller in silent mode
 - Makes the uninstall function return a promise that is resolved if the app is uninstalled correctly, rejected if it isn&apos;t

::: webapprt/win/webapp-uninstaller.nsi.in
@@ -13,2 @@
&gt;  SetDatablockOptimize on
&gt; -SetCompress off

This way the uninstaller size is reduced by half (80 KB instead of 160 KB).

@@ +99,5 @@
&gt;    ; files / directories this install is responsible for.
&gt;    ${un.ParseUninstallLog}
&gt;
&gt;    ; Remove the uninstall directory that we control
&gt; +  RmDir /r /REBOOTOK &quot;$INSTDIR\uninstall&quot;

This is an unrelated change, but needed to remove the &quot;uninstall&quot; directory that may be in use while we uninstall.

@@ +144,5 @@
&gt;    WriteUninstaller &quot;$1&quot;
&gt;
&gt;    ${GetParameters} $2
&gt; +  StrCpy $2 &quot;$2 _?=$EXEDIR&quot;
&gt; +  ExecWait &apos;&quot;$1&quot; $2&apos;

This is needed to make the promise in WebappOSUtils::uninstall resolve when the uninstallation is finished.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8620952</commentid>
               <who name="Marco Castelluccio [:marco]">mar.castelluccio</who>
               <bug_when>2014-04-04 04:23:36 -0700</bug_when>
               <thetext>(In reply to Marco Castelluccio [:marco] from comment #4)
&gt; @@ +144,5 @@
&gt; &gt;    WriteUninstaller &quot;$1&quot;
&gt; &gt;
&gt; &gt;    ${GetParameters} $2
&gt; &gt; +  StrCpy $2 &quot;$2 _?=$EXEDIR&quot;
&gt; &gt; +  ExecWait &apos;&quot;$1&quot; $2&apos;
&gt;
&gt; This is needed to make the promise in WebappOSUtils::uninstall resolve when
&gt; the uninstallation is finished.

(The first changed line is needed because &quot;_?= sets $INSTDIR. ... It must be the last parameter used in the command line and must not contain any quotes, even if the path contains spaces.&quot;, from http://nsis.sourceforge.net/Docs/Chapter3.html)

I hope my comments help the review.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8642050</commentid>
               <attachid>8401796</attachid>
               <who name="Tim Abraldes [:TimAbraldes] [:tabraldes]">tabraldes</who>
               <bug_when>2014-04-09 14:44:27 -0700</bug_when>
               <thetext>Comment on attachment 8401796
Patch

Review of attachment 8401796:
-----------------------------------------------------------------

Please do the following:
  1. Correct the comment at [1]. It currently says that the installer will run at build time, but it looks like the &quot;installer&quot; is actually what becomes webapp-uninstaller.exe. When the &quot;installer&quot; runs, it writes the real uninstaller (through a call to `WriteUninstaller`) to a temp directory and then launches that.
  2. File a follow-up bug and add a code comment explaining why every app uninstall leaves behind a copy of webapp-uninstaller.exe until the user reboots
  3. Modify `getAppRegKey` so that we&apos;re not returning an array of return values (please implement one of the suggested alternatives or something else)

[1] https://mxr.mozilla.org/mozilla-central/source/webapprt/win/webapp-uninstaller.nsi.in?rev=fb30db0fa0aa#71

::: toolkit/webapps/WebappOSUtils.jsm
@@ +89,2 @@
&gt;  #ifdef XP_WIN
&gt; +    let [ appRegKey, isOldNamingScheme ] = this.getAppRegKey(aApp);

I&apos;m not a fan of returning an array of values. I&apos;d rather see something like this:
  let isOldNamingScheme = false;
  let appRegKey = this.getAppRegKeyVersion2(aApp);
  if (!appRegKey) {
    appRegKey = this.getAppRegKeyVersion1(aApp);
    isOldNamingScheme = true;
  }
  if (!appRegKey) {
    // Error
  }
  // ...

Or something like this:
  let appRegKey = this.getAppRegKey(aApp);
  if (!appRegKey) {
    // Error
    // ...
  }
  let isOldNamingScheme = (appRegKey.namingSchemeVersion == 1);
  // reg value is stored in appRegKey.value
  // ...

@@ +329,5 @@
&gt; +
&gt; +    return deferred.promise;
&gt; +#elifdef XP_MACOSX
&gt; +    return Promise.reject(&quot;Uninstallation not implemented&quot;);
&gt; +#elifdef XP_UNIX

These Linux and Mac changes are probably meant for a different patch/bug, right?

::: webapprt/win/webapp-uninstaller.nsi.in
@@ +144,5 @@
&gt;    WriteUninstaller &quot;$1&quot;
&gt;
&gt;    ${GetParameters} $2
&gt; +  StrCpy $2 &quot;$2 _?=$EXEDIR&quot;
&gt; +  ExecWait &apos;&quot;$1&quot; $2&apos;

It&apos;s important to note what&apos;s going on here: The webapp-uninstaller.exe that lives in the webapp&apos;s directory (which I&apos;ll call uninstallerA) actually writes a real uninstaller (which I&apos;ll call uninstallerB) to a temporary directory and runs that. We used to exit immediately upon launching uninstallerB, but now we wait for it to finish executing.

Before, when uninstallerB would try to delete uninstallerA, the deletion would succeed because uninstallerA wasn&apos;t running. Now, when uninstallerB tries to delete uninstallerA, uninstallerA is still running and so it can&apos;t be deleted without a reboot.

Every app uninstallation is going to require a reboot if we keep this change. That&apos;s not ideal. &quot;Require a reboot&quot; in this case means that we&apos;ll litter the user&apos;s temp directory with copies of our uninstaller until the user reboots.

I remember trying to tackle this problem and finding that there isn&apos;t really a way for JS code to determine that the real uninstaller has finished running: The JS code has no idea where the real uninstaller gets written to (it&apos;s a randomly-generated temp file path), it doesn&apos;t know the PID of the real uninstaller, and even if it knew the PID it would be possible for the uninstaller to exit and for the PID to be reused before our JS code tries to check that the process is still running.

I&apos;m not sure that there&apos;s a better approach than the one presented in this patch, but we should at least file a follow-up bug explaining why every uninstallation leaves around a copy of webapp-uninstaller.exe until the user reboots. Also a comment in the code would  be helpful</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8647904</commentid>
               <attachid>8405004</attachid>
               <who name="Marco Castelluccio [:marco]">mar.castelluccio</who>
               <bug_when>2014-04-10 14:50:23 -0700</bug_when>
               <thetext>Created attachment 8405004
Patch v2

(In reply to Tim Abraldes [:TimAbraldes] [:tabraldes] from comment #6)
&gt;   2. File a follow-up bug and add a code comment explaining why every app
&gt; uninstall leaves behind a copy of webapp-uninstaller.exe until the user
&gt; reboots

Filed bug 994965.

&gt; @@ +329,5 @@
&gt; &gt; +
&gt; &gt; +    return deferred.promise;
&gt; &gt; +#elifdef XP_MACOSX
&gt; &gt; +    return Promise.reject(&quot;Uninstallation not implemented&quot;);
&gt; &gt; +#elifdef XP_UNIX
&gt;
&gt; These Linux and Mac changes are probably meant for a different patch/bug,
&gt; right?

I&apos;ve modified the uninstall function to return a promise (it used to return a boolean on Linux, nothing on Windows and Mac), so I&apos;ve had to modify the other platforms&apos; code too.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8648284</commentid>
               <attachid>8405004</attachid>
               <who name="Tim Abraldes [:TimAbraldes] [:tabraldes]">tabraldes</who>
               <bug_when>2014-04-10 16:36:48 -0700</bug_when>
               <thetext>Comment on attachment 8405004
Patch v2

Review of attachment 8405004:
-----------------------------------------------------------------

::: webapprt/win/webapp-uninstaller.nsi.in
@@ +67,5 @@
&gt;
&gt;  ################################################################################
&gt;  # Install Sections
&gt; +# The &quot;installer&quot; that is generated by this file is a stub that generates the
&gt; +# uninstaller at runtime in a temp directory and launches it.

nit: trailing whitespace

@@ +103,5 @@
&gt; +  ; The installer is in the uninstall directory, it generates
&gt; +  ; the uninstaller in a temp directory and waits for its
&gt; +  ; execution. Thus, we can&apos;t remove the uninstall directory
&gt; +  ; now and need to wait for a restart.
&gt; +  ; See bug 994965.

Thanks for adding this comment!</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8649675</commentid>
               <attachid>8405276</attachid>
               <who name="Marco Castelluccio [:marco]">mar.castelluccio</who>
               <bug_when>2014-04-11 02:39:59 -0700</bug_when>
               <thetext>Created attachment 8405276
Patch v2

Carrying r+.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8655573</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-04-13 11:21:05 -0700</bug_when>
               <thetext>https://hg.mozilla.org/integration/mozilla-inbound/rev/7dbcb63aa3e3</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8656369</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-04-13 20:47:13 -0700</bug_when>
               <thetext>Backed out for frequent Android mochitest-4 failures.
https://hg.mozilla.org/integration/mozilla-inbound/rev/0a1315c30090

https://tbpl.mozilla.org/php/getParsedLog.php?id=37730923&amp;tree=Mozilla-Inbound</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8656879</commentid>
               <who name="Marco Castelluccio [:marco]">mar.castelluccio</who>
               <bug_when>2014-04-14 01:43:09 -0700</bug_when>
               <thetext>(In reply to Ryan VanderMeulen [:RyanVM UTC-4] from comment #11)
&gt; Backed out for frequent Android mochitest-4 failures.
&gt; https://hg.mozilla.org/integration/mozilla-inbound/rev/0a1315c30090
&gt;
&gt; https://tbpl.mozilla.org/php/getParsedLog.php?id=37730923&amp;tree=Mozilla-
&gt; Inbound

Isn&apos;t that a known intermittent failure? This patch touches desktop specific code (mostly Windows), nothing that could affect Android.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8656884</commentid>
               <who name="Marco Castelluccio [:marco]">mar.castelluccio</who>
               <bug_when>2014-04-14 01:46:14 -0700</bug_when>
               <thetext>(bug 858772)</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8657439</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-04-14 05:14:26 -0700</bug_when>
               <thetext>20+ retriggers on the push prior without hitting it. Consistently failing afterwards.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8657443</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-04-14 05:15:40 -0700</bug_when>
               <thetext>To better make the point:
https://tbpl.mozilla.org/?tree=Mozilla-Inbound&amp;jobname=Android%202.2%20Armv6%20Tegra%20mozilla-inbound%20opt%20test%20mochitest-4&amp;fromchange=b43f62c11005&amp;tochange=d1e74ffe92ac</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8657458</commentid>
               <who name="Marco Castelluccio [:marco]">mar.castelluccio</who>
               <bug_when>2014-04-14 05:21:32 -0700</bug_when>
               <thetext>Very strange, the WebappOSUtils::uninstall function is only called by Firefox desktop and the desktop webapp runtime: http://mxr.mozilla.org/mozilla-central/search?string=WebappOSUtils.uninstall</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8657467</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-04-14 05:24:05 -0700</bug_when>
               <thetext>The import of Promise.jsm would be cross-platform, right?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8659279</commentid>
               <who name="Marco Castelluccio [:marco]">mar.castelluccio</who>
               <bug_when>2014-04-14 10:40:56 -0700</bug_when>
               <thetext>(In reply to Ryan VanderMeulen [:RyanVM UTC-4] from comment #17)
&gt; The import of Promise.jsm would be cross-platform, right?

Yes, but Promise.jsm is already being imported by all the modules that use WebappOSUtils.jsm, and it is imported right at startup on Android too.
If the test failing rate increased just because we import Promise.jsm in WebappOSUtils.jsm then we should most probably disable the test on Android.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8659282</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-04-14 10:41:24 -0700</bug_when>
               <thetext>No occurrences post-backout, FWIW.</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8676475</commentid>
               <who name="Marco Castelluccio [:marco]">mar.castelluccio</who>
               <bug_when>2014-04-17 07:45:25 -0700</bug_when>
               <thetext>With bug 996109 fixed, we never load WebappOSUtils during dom/apps tests (we&apos;re loading it lazily, but since we never use it during those tests, we never load it).</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8678715</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-04-17 13:44:51 -0700</bug_when>
               <thetext>https://hg.mozilla.org/integration/mozilla-inbound/rev/f7645d1aaaea</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8680153</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-04-17 19:14:37 -0700</bug_when>
               <thetext>FWIW, bug 858772 started appearing on inbound again when this landed. I haven&apos;t seen it occurring otherwise in a long time (and it went away after this was backed out previously).</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>8681801</commentid>
               <who name="Ryan VanderMeulen [:RyanVM UTC-4]">ryanvm</who>
               <bug_when>2014-04-18 06:14:19 -0700</bug_when>
               <thetext>https://hg.mozilla.org/mozilla-central/rev/f7645d1aaaea</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9040268</commentid>
               <who name="Anthony Hughes, QA Mentor (:ashughes)">anthony.s.hughes</who>
               <bug_when>2014-07-10 14:42:49 -0700</bug_when>
               <thetext>Jason, does this need testing before we release Firefox 31?</thetext>
          </long_desc>
          <long_desc isprivate="0">
               <commentid>9040283</commentid>
               <who name="Jason Smith [:jsmith]">jsmith</who>
               <bug_when>2014-07-10 14:45:38 -0700</bug_when>
               <thetext>Don&apos;t think so.</thetext>
          </long_desc>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
               <attachid>8401796</attachid>
               <date>2014-04-04 04:01:18 -0700</date>
               <delta_ts>2014-04-10 14:50:23 -0700</delta_ts>
               <desc>Patch</desc>
               <filename>webapposutils_uninstall_windows</filename>
               <type>text/plain</type>
               <size>11891</size>
               <attacher>mar.castelluccio</attacher>
          </attachment>
          <attachment
              isobsolete="1"
              ispatch="1"
              isprivate="0"
          >
               <attachid>8405004</attachid>
               <date>2014-04-10 14:50:23 -0700</date>
               <delta_ts>2014-04-11 02:39:59 -0700</delta_ts>
               <desc>Patch v2</desc>
               <filename>webapposutils_uninstall_windows</filename>
               <type>text/plain</type>
               <size>13210</size>
               <attacher>mar.castelluccio</attacher>
               <flag name="review"
          id="850807"
          type_id="748"
          status="+"
          setter="tabraldes"
    />
          </attachment>
          <attachment
              isobsolete="0"
              ispatch="1"
              isprivate="0"
          >
               <attachid>8405276</attachid>
               <date>2014-04-11 02:39:59 -0700</date>
               <delta_ts>2014-04-11 02:39:59 -0700</delta_ts>
               <desc>Patch v2</desc>
               <filename>webapposutils_uninstall_windows</filename>
               <type>text/plain</type>
               <size>13209</size>
               <attacher>mar.castelluccio</attacher>
               <flag name="review"
          id="851178"
          type_id="748"
          status="+"
          setter="mar.castelluccio"
    />
          </attachment>
     </bug>
</root>

